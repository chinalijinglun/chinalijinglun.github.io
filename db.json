{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/lattice/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/about.js","path":"js/about.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/post_wx_share.js","path":"js/post_wx_share.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-144x144.png","path":"img/android-chrome-144x144.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-192x192.png","path":"img/android-chrome-192x192.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-256x256.png","path":"img/android-chrome-256x256.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-48x48.png","path":"img/android-chrome-48x48.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-384x384.png","path":"img/android-chrome-384x384.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-36x36.png","path":"img/android-chrome-36x36.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-72x72.png","path":"img/android-chrome-72x72.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-96x96.png","path":"img/android-chrome-96x96.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-114x114.png","path":"img/apple-touch-icon-114x114.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/android-chrome-512x512.png","path":"img/android-chrome-512x512.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-120x120.png","path":"img/apple-touch-icon-120x120.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-144x144.png","path":"img/apple-touch-icon-144x144.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-167x167.png","path":"img/apple-touch-icon-167x167.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-152x152.png","path":"img/apple-touch-icon-152x152.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-180x180.png","path":"img/apple-touch-icon-180x180.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-57x57.png","path":"img/apple-touch-icon-57x57.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-60x60.png","path":"img/apple-touch-icon-60x60.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-72x72.png","path":"img/apple-touch-icon-72x72.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-76x76.png","path":"img/apple-touch-icon-76x76.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon-precomposed.png","path":"img/apple-touch-icon-precomposed.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/apple-touch-icon.png","path":"img/apple-touch-icon.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/ball_195.png","path":"img/ball_195.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/browserconfig.xml","path":"img/browserconfig.xml","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/banner1.png","path":"img/banner1.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/favicon-16x16.png","path":"img/favicon-16x16.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/favicon.ico","path":"img/favicon.ico","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/favicon-230x230.png","path":"img/favicon-230x230.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/favicon-96x96.png","path":"img/favicon-96x96.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/favicon-32x32.png","path":"img/favicon-32x32.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/logo-circle-120.png","path":"img/logo-circle-120.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/manifest.json","path":"img/manifest.json","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/logo.png","path":"img/logo.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/mstile-144x144.png","path":"img/mstile-144x144.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/mstile-150x150.png","path":"img/mstile-150x150.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/mstile-310x150.png","path":"img/mstile-310x150.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/mstile-70x70.png","path":"img/mstile-70x70.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/mstile-310x310.png","path":"img/mstile-310x310.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/o2logo.png","path":"img/o2logo.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/qrcode.jpg","path":"img/qrcode.jpg","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/o2logo@2x.png","path":"img/o2logo@2x.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/qrcode.png","path":"img/qrcode.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.eot","path":"fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/FontAwesome.otf","path":"fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.woff","path":"fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.woff2","path":"fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/Wechat.jpeg","path":"img/Wechat.jpeg","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/banner.png","path":"img/banner.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/fancybox_loading.gif","path":"assets/fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/fancybox_loading@2x.gif","path":"assets/fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/blank.gif","path":"assets/fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/fancybox_sprite@2x.png","path":"assets/fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/fancybox_sprite.png","path":"assets/fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.css","path":"assets/fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/fancybox_overlay.png","path":"assets/fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.js","path":"assets/fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.pack.js","path":"assets/fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.ttf","path":"fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/base64.js","path":"js/libs/base64.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/debounce.js","path":"js/libs/debounce.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/jquery.scrollPager.js","path":"js/libs/jquery.scrollPager.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/hogan-3.0.2.js","path":"js/libs/hogan-3.0.2.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/lunr.js","path":"js/libs/lunr.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/common.js","path":"js/mods/common.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/xhogan.js","path":"js/libs/xhogan.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/ua-parser.js","path":"js/libs/ua-parser.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/console.js","path":"js/mods/console.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/jweixin-1.0.0.js","path":"js/mods/jweixin-1.0.0.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/search_result.js","path":"js/mods/search_result.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/scrollPager.js","path":"js/mods/scrollPager.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/duoshuo.js","path":"js/mods/duoshuo.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/toc.js","path":"js/mods/toc.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/mods/util.js","path":"js/mods/util.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/about1.jpeg","path":"img/about1.jpeg","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-buttons.css","path":"assets/fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-media.js","path":"assets/fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/fancybox_buttons.png","path":"assets/fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-buttons.js","path":"assets/fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-thumbs.css","path":"assets/fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-thumbs.js","path":"assets/fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/zfb.jpeg","path":"img/zfb.jpeg","modified":1,"renderable":1},{"_id":"themes/lattice/source/img/ball_1408.png","path":"img/ball_1408.png","modified":1,"renderable":1},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.svg","path":"fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/lattice/source/js/libs/jquery.js","path":"js/libs/jquery.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"4af75a2b150afec6990512f17f71f56eeaab9dd3","modified":1500447380000},{"_id":"source/.DS_Store","hash":"a77b62b75bf568aeaaf820b306ff147ace306c13","modified":1677230426998},{"_id":"themes/lattice/LICENSE","hash":"a4692c5ae019f8bf1695b9c8b4e0ccae899b6e80","modified":1487187898000},{"_id":"themes/lattice/README.md","hash":"b7b2bcfb34e9e4ea152053ff98dd2cca2f29fdcd","modified":1487187898000},{"_id":"themes/lattice/package.json","hash":"a23b4b9e57c55e5ff3660cf68ff302753bc2cf2e","modified":1487187898000},{"_id":"themes/lattice/_config.yml","hash":"39484c7dbc730f40eaf5fc04a67e25b5aecf4fb8","modified":1516003987272},{"_id":"themes/lattice/.DS_Store","hash":"5af5e11468a661d3715da3a91b3065f5d7ae502e","modified":1677746497119},{"_id":"source/_data/menu.yml","hash":"302d2512424e326ebfc8fd5587f9fd77770233f0","modified":1502356345000},{"_id":"source/_data/languages.yml","hash":"d2faaa833ed267d78147da7b5ac8aab824f2a8e7","modified":1487597422000},{"_id":"source/_data/cases.yml","hash":"e41e010e08e89ef5d8e3d20835a8903118ca806d","modified":1502356839000},{"_id":"source/_data/cates.yml","hash":"306cab916a4ead50baac663f690be8cdc2c7853b","modified":1677662496973},{"_id":"source/_data/links.yml","hash":"b03bb9fb5ea417e8326e93837b1652b323787cee","modified":1488718108000},{"_id":"source/about/index.md","hash":"0d6b854cecd53e021cf7f7d11a94cfd449c82096","modified":1500885779000},{"_id":"source/_posts/2017-08-06-canvas压缩图片.md","hash":"710f7f10ced27a6763d108bb01e47b383a16b045","modified":1524818419000},{"_id":"source/_posts/2018-01-15-新年新展望.md","hash":"84297a82fbcb22b62f392f35abda8ff92ff7fe4e","modified":1524644709000},{"_id":"source/_posts/2017-07-24-chrome_1.md","hash":"5daf9755e5a446844c7a423e5d7c004897843241","modified":1677054979133},{"_id":"source/_posts/.DS_Store","hash":"2b1a812626df6a1bdcafbd3d0b9f0319c9d29635","modified":1677555725086},{"_id":"source/_posts/2018-04-27-登录.md","hash":"a8d86de5d09e83dc1b357690a8d8c315c285e4c0","modified":1524818472000},{"_id":"source/_posts/2018-04-27-Phaser游戏开发.md","hash":"8cdda3622018778c3ae3482dd7b4bfdb09d26dd4","modified":1525252015000},{"_id":"source/_posts/2023-02-22-表单自定义组件.md","hash":"e190dca6c83fa6d769cba7762d59bb3f738aebf5","modified":1677662502244},{"_id":"source/_posts/2018-05-03-Phaser游戏开发2.md","hash":"a61d07cbc41c024195e095aababc3ba2f74bb1c9","modified":1525337235000},{"_id":"source/_posts/2023-02-24-聊聊前端优化.md","hash":"7794acfc96ff69f9cdbd44fe1c5b9e71a6564b36","modified":1678092426937},{"_id":"source/_posts/hello-world.md","hash":"46b9bbe6ca9fbb2e72e82dd96e17c14b331d4649","modified":1677054970412},{"_id":"source/_posts/cover.jpg","hash":"f904308c8212dda1797f750eff4d34c8cd7b4657","modified":1524817458900},{"_id":"source/cates/index.md","hash":"82b1056588c7f463acd1af469851dc6ce96cc879","modified":1488706788000},{"_id":"themes/lattice/languages/en.yml","hash":"979285f02d6aa57301afb44a941d769def57b6b8","modified":1487187898000},{"_id":"themes/lattice/languages/zh-cn.yml","hash":"ccc3d3408960bff9519f950e00f6a65506203f9a","modified":1502356360000},{"_id":"themes/lattice/layout/_layout.swig","hash":"7a5d6410383aaf294b0a4b8d387c2d004871d44e","modified":1487187898000},{"_id":"source/tags/index.md","hash":"817d97e1b8c43f2699359f056d5c49a3802fa829","modified":1677663653836},{"_id":"themes/lattice/layout/category.swig","hash":"2ba1e4162919b9b42e636a8afa41074ab05281de","modified":1487187898000},{"_id":"themes/lattice/layout/about.swig","hash":"f892f102311f96eb198fb94d84ba7306cac8aa30","modified":1487187898000},{"_id":"themes/lattice/layout/index.swig","hash":"a3594074fd2a69136ac25658195d5ef907cbc3b0","modified":1500969313000},{"_id":"themes/lattice/layout/page.swig","hash":"6288985d5912aa3776acafac1e6f535259b147ab","modified":1487187898000},{"_id":"themes/lattice/layout/join.swig","hash":"e5e92eda4b51c4cd55f56e8375a418134cfd20aa","modified":1487187898000},{"_id":"themes/lattice/layout/fragments.swig","hash":"2af63351bf94376fc09469b2bfbf6026645b3ab0","modified":1487187898000},{"_id":"themes/lattice/scripts/helpers.js","hash":"e5908d2a4781367e4db509f136e788721b177ccc","modified":1677664656010},{"_id":"themes/lattice/layout/search.swig","hash":"6beb6caf1c97e1d00741281b198e565520a076bd","modified":1487187898000},{"_id":"themes/lattice/layout/post.swig","hash":"3c56b7169593e099f50b8411ac7c6d89729801c4","modified":1487187898000},{"_id":"themes/lattice/scripts/tags.js","hash":"fce8b3c3518a74bcf33a5616a24afea37e75b93b","modified":1487187898000},{"_id":"themes/lattice/source/.DS_Store","hash":"133f9933b92b5f919bd4b778a216ace7442c06ce","modified":1677746506371},{"_id":"source/_posts/2017-07-24-chrome_1/.DS_Store","hash":"ae90cdb814787b41553762568d0f51164879c9fa","modified":1516787718000},{"_id":"source/_posts/2017-07-24-chrome_1/1.png","hash":"0675f2ed2100ba6b07ccb999dc4cb384da235043","modified":1516780687000},{"_id":"source/_posts/2017-07-24-chrome_1/3.png","hash":"246fb80e6a9c401fc1ce585488bb5b2a45b1793c","modified":1516780716000},{"_id":"source/_posts/2017-07-24-chrome_1/5.png","hash":"30d0b8229923c2fccf9d0c59785a91cb95c9e536","modified":1516781131000},{"_id":"source/_posts/2017-08-06-canvas压缩图片/cover.jpg","hash":"f904308c8212dda1797f750eff4d34c8cd7b4657","modified":1524818255524},{"_id":"source/_posts/2017-07-24-chrome_1/cover.jpg","hash":"f904308c8212dda1797f750eff4d34c8cd7b4657","modified":1524818256730},{"_id":"source/_posts/2018-01-15-新年新展望/cover.jpg","hash":"f904308c8212dda1797f750eff4d34c8cd7b4657","modified":1524818254178},{"_id":"source/_posts/2018-04-27-登录/1.png","hash":"119c2a7460ac462d3df5a10858d11e2af40561d7","modified":1524814394440},{"_id":"source/_posts/2018-05-03-Phaser游戏开发2/phaser1.zip","hash":"1ee1760015bdbd15182c5db960a539274dc98348","modified":1525336590340},{"_id":"source/_posts/2018-04-27-登录/cover.jpg","hash":"f904308c8212dda1797f750eff4d34c8cd7b4657","modified":1524818251777},{"_id":"source/_posts/2023-02-24-聊聊前端优化/prefetch.png","hash":"40b4b31439bc1d7573319c98f5f453f59cfcf627","modified":1677555681736},{"_id":"themes/lattice/source/assets/.DS_Store","hash":"1953a6c62a25ab443dc7b39d061e577537cf2827","modified":1638858902807},{"_id":"themes/lattice/source/css/style.styl","hash":"16e969624c294b77a9735c6cb3099fbb99375d04","modified":1487687240000},{"_id":"themes/lattice/source/js/about.js","hash":"a3da63a4a20f01b04af380652290107cd0ae1384","modified":1500886602000},{"_id":"themes/lattice/source/js/post_wx_share.js","hash":"259178c91f14c4fc20aa2afeebb20c5a1f8fe609","modified":1487187898000},{"_id":"themes/lattice/source/img/android-chrome-144x144.png","hash":"5708ebabd7b7cf7b1064f83bab6b0cfbd4d892aa","modified":1488895180000},{"_id":"themes/lattice/source/img/android-chrome-192x192.png","hash":"85ae9de40d4e9f17f2c1d17864e1f24f33dc40c3","modified":1488895210000},{"_id":"themes/lattice/source/img/.DS_Store","hash":"326eed8d0325a56e6153fe5f19bbd06912d88e4f","modified":1677746506370},{"_id":"themes/lattice/source/img/android-chrome-256x256.png","hash":"a4993647571fd01f8705600cce49d3e16d6e3c15","modified":1488895244000},{"_id":"themes/lattice/source/img/android-chrome-48x48.png","hash":"09da6e3be58544bf37dc019a9e55c48227756641","modified":1488895066000},{"_id":"themes/lattice/source/img/android-chrome-384x384.png","hash":"3df60f0ab857bf0ea5e55802ef9edad4ab5758b1","modified":1488934900000},{"_id":"themes/lattice/source/img/android-chrome-36x36.png","hash":"9779cda57b998575b979b56421a351c21f6146e9","modified":1488895026000},{"_id":"themes/lattice/source/img/android-chrome-72x72.png","hash":"7174474ed16bcc69771579afbc97988fd71ff82b","modified":1488895096000},{"_id":"themes/lattice/source/img/android-chrome-96x96.png","hash":"437f600ef580c70836498e0f4800d7f39d3a1caa","modified":1488895138000},{"_id":"themes/lattice/source/img/apple-touch-icon-114x114.png","hash":"42363cfa2aeca026686c6654ef63a6e67b16d478","modified":1488895530000},{"_id":"themes/lattice/source/img/android-chrome-512x512.png","hash":"b32acd737472dd1b2b2a7128676faae18ee9c317","modified":1488895356000},{"_id":"themes/lattice/source/img/apple-touch-icon-120x120.png","hash":"39beb581b09866fa115c1e0878ae8e9a7f7e4004","modified":1488895592000},{"_id":"themes/lattice/source/img/apple-touch-icon-144x144.png","hash":"10317270304ee7cba1d79958f1ecb04458cd5cb7","modified":1488895618000},{"_id":"themes/lattice/source/img/apple-touch-icon-167x167.png","hash":"67dda40a6703d60ded86338c530409d90a920079","modified":1488895668000},{"_id":"themes/lattice/source/img/apple-touch-icon-152x152.png","hash":"68d13d06bab9f26d6730eb59b1b8a5f5b0a39916","modified":1488895644000},{"_id":"themes/lattice/source/img/apple-touch-icon-180x180.png","hash":"c23285a90a094201dfbee0a1a5892dfc35e7f5d2","modified":1488895346000},{"_id":"themes/lattice/source/img/apple-touch-icon-57x57.png","hash":"4b88368470cdaccd342ff3453c0a3346dea17b03","modified":1488895384000},{"_id":"themes/lattice/source/img/apple-touch-icon-60x60.png","hash":"2be339bdfa73de41cfd000ef909951ff515415bc","modified":1488895412000},{"_id":"themes/lattice/source/img/apple-touch-icon-72x72.png","hash":"c5b35ab174ebfab887d34dd11c9a902a5d60ff7c","modified":1488895452000},{"_id":"themes/lattice/source/img/apple-touch-icon-76x76.png","hash":"c7f10dff35483fddce8735518e88f993abc5be84","modified":1488895504000},{"_id":"themes/lattice/source/img/apple-touch-icon-precomposed.png","hash":"46abd2efcaf77fb9a2a16d789b431171cb74a101","modified":1488895690000},{"_id":"themes/lattice/source/img/apple-touch-icon.png","hash":"6666fd256dcb016b1ec7d85531f5d2169dba46d0","modified":1488895728000},{"_id":"themes/lattice/source/img/ball_195.png","hash":"7873fafd818796864c83449a7f75cd85e853174d","modified":1487187898000},{"_id":"themes/lattice/source/img/browserconfig.xml","hash":"8f9e34d1c9b8391cf038c4ae55c7610d25436ebd","modified":1487187898000},{"_id":"themes/lattice/source/img/banner1.png","hash":"e210110eace8adf42fb008061f9d777a21c26ebf","modified":1487187898000},{"_id":"themes/lattice/source/img/favicon-16x16.png","hash":"cf8d777fcc1200099160464c9a4c0201cbc76482","modified":1488895776000},{"_id":"themes/lattice/source/img/favicon.ico","hash":"8a97fab9e55a98afce76a743ba38c8f58e932769","modified":1488979268000},{"_id":"themes/lattice/source/img/favicon-230x230.png","hash":"c6f39b54c32ef358143fde345b7c5b10ae2a97a1","modified":1488895922000},{"_id":"themes/lattice/source/img/favicon-96x96.png","hash":"9d93982698c9bc84817160f006f215e1415c777d","modified":1488895880000},{"_id":"themes/lattice/source/img/favicon-32x32.png","hash":"ab257b3cded00226ce08e2fa1a434b9ccba08ea3","modified":1488895842000},{"_id":"themes/lattice/source/img/logo-circle-120.png","hash":"c23ef525591ff142a4ecf365a852bde1bd31e0a7","modified":1488896046000},{"_id":"themes/lattice/source/img/manifest.json","hash":"0e478d6be6537161cf774842132ce68ba2f12ba4","modified":1487187898000},{"_id":"themes/lattice/source/img/logo.png","hash":"3c072c0feacfeb10134763b184f6524319f3c074","modified":1488895966000},{"_id":"themes/lattice/source/img/mstile-144x144.png","hash":"1a450db2f3cb9190edc8bc8cf1f98f3319a237f3","modified":1488896118000},{"_id":"themes/lattice/source/img/mstile-150x150.png","hash":"db446d91ae759b41fb3a8f9faa71831e0c772f8e","modified":1488896218000},{"_id":"themes/lattice/source/img/mstile-310x150.png","hash":"8fe62d01a75e2e3207a989ffb40e4383d34395cf","modified":1488896248000},{"_id":"themes/lattice/source/img/mstile-70x70.png","hash":"e23e7de79f89b0c1bdd089762538863b2b370b9e","modified":1488935284000},{"_id":"themes/lattice/source/img/mstile-310x310.png","hash":"e0e6432847327b8f6c9cf2f7ef30e31cbaadd694","modified":1488896284000},{"_id":"themes/lattice/source/img/o2logo.png","hash":"5c593e7ed0818fc6ed256e305bca4624f3168976","modified":1488978948000},{"_id":"themes/lattice/source/img/qrcode.jpg","hash":"89f6fb3aa1381bb552a7bd1b8c8ac805baaea7fd","modified":1487772384000},{"_id":"themes/lattice/source/img/o2logo@2x.png","hash":"5b469a1cf510b6df4763f5e58ccbebf6de0eca73","modified":1488979050000},{"_id":"themes/lattice/source/img/qrcode.png","hash":"b633f501ae038d33f979a8a106fc9168ff9048cc","modified":1488979136000},{"_id":"source/_posts/2017-07-24-chrome_1/6.png","hash":"a70d8e7d161173ef6a2ce1160e46d504c1088af1","modified":1516781923000},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.eot","hash":"986eed8dca049714e43eeebcb3932741a4bec76d","modified":1487187898000},{"_id":"themes/lattice/source/fonts/FontAwesome.otf","hash":"42c179eef588854b5ec151bcf6a3f58aa8b79b11","modified":1487187898000},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.woff","hash":"4a313eb93b959cc4154c684b915b0a31ddb68d84","modified":1487187898000},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.woff2","hash":"638c652d623280a58144f93e7b552c66d1667a11","modified":1487187898000},{"_id":"themes/lattice/source/img/Wechat.jpeg","hash":"3354eeec6dca91c03877eb889d6e67fd6db5eaa7","modified":1677746393894},{"_id":"themes/lattice/source/img/banner.png","hash":"45b9bb84328dfe6f7a3536730ad2939b5ab36a1f","modified":1488427052000},{"_id":"source/_posts/2018-04-27-登录/2.png","hash":"26779972650f0e9f89d4236801412c758cf8b5d0","modified":1524814396770},{"_id":"themes/lattice/layout/_partial/common/after_footer.swig","hash":"608d0eb697f2c819d8fce25be2d4570f829fd0ac","modified":1500968614000},{"_id":"themes/lattice/layout/_partial/common/head.swig","hash":"eaa780d968435a514eb7876be95d43b6ed08e165","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/about/main.swig","hash":"e8c1418787cc0ae69ac2576584272da72a48e2cc","modified":1677747623791},{"_id":"themes/lattice/layout/_partial/common/footer.swig","hash":"547b25feedfcecf098823ba284df2fb18d1ee849","modified":1635398291703},{"_id":"themes/lattice/layout/_partial/common/header.swig","hash":"fe3c87220ccb666cbd8b083b91f92f5c8539ce95","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/common/pagination.swig","hash":"39e3b2c731754ab0663995b347aceca8b28b5ca6","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/index/banner.swig","hash":"9fa0c0e5e29effa1d6b846df8d14f5211a81cd07","modified":1516001479425},{"_id":"themes/lattice/layout/_partial/common/sidebar.swig","hash":"e4a4f73d6618aa6449155adaa73f86ce558f1506","modified":1487772240000},{"_id":"themes/lattice/layout/_partial/common/prefetch.swig","hash":"ae8fa194030b28ae214531de2ec066bd0b1c1a58","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/common/post_tpl.swig","hash":"c22c1a8fa48770f23d844df9348fcae1b2024727","modified":1516004724075},{"_id":"themes/lattice/layout/_partial/index/posts.swig","hash":"6eb02e891cca08c41b5f7d1b5bafdf8dc828cf82","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/index/main.swig","hash":"02b1dfaf54ef440178d196542dddf46b3be02246","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/post/mini.swig","hash":"f7bb6e2d8520daf773855e16500f30d8c6ec0086","modified":1516004720000},{"_id":"themes/lattice/layout/_partial/post/main.swig","hash":"f6e1a81a9fef966abcf80685bea817b2bedf1287","modified":1677746170590},{"_id":"themes/lattice/layout/_partial/post/prevnext.swig","hash":"1ab45d9d9477f80e1717b335e9f6a2a0bf0154b2","modified":1487187898000},{"_id":"themes/lattice/layout/_partial/search/main.swig","hash":"aedaf7ec4736aa156f9338518e2521cbf95fcd50","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/.DS_Store","hash":"c2cc5821a54c6cbe8129e303345987ca708899c6","modified":1638858913070},{"_id":"themes/lattice/source/assets/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.css","hash":"67e4f3cee1a670bd6905f11aac5cfc10de159e6b","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1487187898000},{"_id":"themes/lattice/source/css/_about/about.styl","hash":"fdb3b131fe72eb8c99c28ccee696dabbf41e32bc","modified":1500888455000},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.js","hash":"a82597493d75ea989ca586e09173cff332efe41e","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/_mixins.styl","hash":"415f9652a745c0fda3671893da988ccb77f7bc43","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/_vars.styl","hash":"0e24fe7a3509507d3f037e64b9a3a13a84146742","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/duoshuo.styl","hash":"baaa9b4d4259835212c8da77a207e2f82e77ed5d","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/backtop.styl","hash":"d274fe67150dff5fbceded4469e148a9b94ad113","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/footer.styl","hash":"e8f8fdbdb8adfdc5a75b02d8425350b6ad2ac2b5","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/header.styl","hash":"9b06f184e890c33a5a07ebfa097f2e3b167b56d9","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/layout.styl","hash":"b30bb3020b1d9292bd449091070385c4e5ff244b","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/index.styl","hash":"00dd1c8647919f2b0b9af17eb22aab12d029f1d4","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/reset.styl","hash":"4a7143ad451f83bf3f7d7d62843b5b1a219c3ad7","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/loading.styl","hash":"bdc35025ff154c9828ea08e3208d71fb3fe9bfc4","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/pagination.styl","hash":"cc5e9762da76cae3543db00c72791d10858d6aec","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/sidebar.styl","hash":"01ee8f9552eff7464899e6f2f893fbbe9489308e","modified":1487187898000},{"_id":"themes/lattice/source/css/_base/typo.styl","hash":"43f60ec13622aee87b54d428ae8db7cfd9fc605f","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/animated.styl","hash":"174177e474162bb3a5b87429de92929a90d87929","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/core.styl","hash":"08c4b89f6994e3f1f53277564dd61dfc79ea31c9","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/bordered-pulled.styl","hash":"df3d40617811957603c2a4ac7c37b30a16878f8d","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/font-awesome.styl","hash":"f71fb20bea430182126251068db8d489bbf8d9f1","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/fixed-width.styl","hash":"289a05281bdeb113d65e4876403fa28c94d9103b","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/icons.styl","hash":"9937806d239c13d2262f5a1b1696a6ec8e3d0b3c","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/larger.styl","hash":"ebf3d24544c4f9bd392ae3c2e69233fe34666215","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/path.styl","hash":"62439467209a15921b420ff777a31c4e0d296c28","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/mixins.styl","hash":"d1a7c112af81ad30f036e3d5295a77d743d681c4","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/stacked.styl","hash":"a56deb03e89e681b9d20860c409e2e4f80736e62","modified":1487187898000},{"_id":"themes/lattice/source/css/_highlight/highlight.styl","hash":"a135b2098522f7e6dc51379612154b6817ede7af","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/variables.styl","hash":"3d40be760edacbf41092fa5e69aeef8b282dec41","modified":1487187898000},{"_id":"themes/lattice/source/css/_font_awesome/rotated-flipped.styl","hash":"30e46d95f5e287c2d7bc5b9689175e5b17ad60e7","modified":1487187898000},{"_id":"themes/lattice/source/css/_highlight/theme.styl","hash":"647d9d78447a2d733af4d6a06f0bd1b62f572b84","modified":1487187898000},{"_id":"themes/lattice/source/css/_index/banner.styl","hash":"dce93681fe42ba9e8519fa5d3b0d29db42dc4942","modified":1487187898000},{"_id":"themes/lattice/source/css/_index/cates.styl","hash":"9648085ce39731ed5cb9c3a19aba4d59701432d6","modified":1487187898000},{"_id":"themes/lattice/source/css/_index/index.styl","hash":"68c0aaf61f5cfb4fbf9276e45a49dc7cd28a09fe","modified":1487187898000},{"_id":"themes/lattice/source/css/_index/posts.styl","hash":"0fbad4936a2643c0148a90205cb20b1a0871f829","modified":1487187898000},{"_id":"themes/lattice/source/css/_join/join.styl","hash":"742cbe7c0fb3cc94bd5ed760c4c4f96b58d41f60","modified":1487187898000},{"_id":"themes/lattice/source/css/_search/search.styl","hash":"1bbb39f585641cbfb5e1b9ed6a993b018fbd713b","modified":1487187898000},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.ttf","hash":"6484f1af6b485d5096b71b344e67f4164c33dd1f","modified":1487187898000},{"_id":"themes/lattice/source/css/_post/post.styl","hash":"2a0f495d0313ad4046e2611c68bf1796640e2694","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/base64.js","hash":"c4f1710441c8bd56233f3a109858e88091c7474a","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/debounce.js","hash":"2a924b27804fc266f13e73467f7bc0376643ed08","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/jquery.scrollPager.js","hash":"df8d2793d012be07bf9d9fa9abdbc0277b5e6820","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/hogan-3.0.2.js","hash":"5a0bada4435435d781d60750c216e58d39a340cb","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/lunr.js","hash":"e05efa083747d193272376876482456368249e86","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/common.js","hash":"b405b4bd3012b2f1797f79f54210c0bd3e863d13","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/xhogan.js","hash":"1f74e9787d3ee69b3b6618deb7b3a23cf2a8c771","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/ua-parser.js","hash":"ebd5795f381d3eb9f365f89b5c117e553c215307","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/console.js","hash":"c1b1cb4261b78cbf37dcc9b6c25d8ae68be57104","modified":1488461784000},{"_id":"themes/lattice/source/js/mods/jweixin-1.0.0.js","hash":"1714a89998b8bdb4d491655bc8d1d9b7b519dd38","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/search_result.js","hash":"57b0f5535ba18bcc23b1475c6d6ed5a6b1d52a21","modified":1524645551000},{"_id":"themes/lattice/source/js/mods/scrollPager.js","hash":"0ddb9bab51cc00c29e595368a6e7d11010b502d3","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/duoshuo.js","hash":"e8e45d4f593a40a9b57c5e2c5bd19678b61f71a0","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/toc.js","hash":"368b59f0dd64e9c67df5427b54af4ab700bca374","modified":1487187898000},{"_id":"themes/lattice/source/js/mods/util.js","hash":"ef0dfeb50641a6d480b661beab8edbe9ac2de90d","modified":1487187898000},{"_id":"themes/lattice/source/img/about1.jpeg","hash":"408be1e0d277ec1e55e029eefcc170d108d32014","modified":1500888475000},{"_id":"source/_posts/2017-07-24-chrome_1/4.png","hash":"d869876368050f52af9919e9e5b17d782af5862e","modified":1516780726000},{"_id":"source/_posts/2023-02-24-聊聊前端优化/yahoo.jpeg","hash":"0fc185ff84e03ce14e2709520dd372615e450e08","modified":1677229382657},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-buttons.css","hash":"4310a88abe2e05cc3d0bfc30f57be6b1395547ef","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-media.js","hash":"b861d5c645b8b6f98757b973e72da1c7e7198c9c","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1487187898000},{"_id":"themes/lattice/source/assets/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1487187898000},{"_id":"themes/lattice/source/img/zfb.jpeg","hash":"75cffabd8b2e745050ea44de448cef3144a6fdfe","modified":1677664942083},{"_id":"source/_posts/2017-07-24-chrome_1/2.png","hash":"0e2d882abf81bacd5622967fb98d4c662b78341d","modified":1516780703000},{"_id":"themes/lattice/source/img/ball_1408.png","hash":"0abd7737011113989dd310c28688c5bb14998bd2","modified":1487187898000},{"_id":"themes/lattice/source/fonts/fontawesome-webfont.svg","hash":"b06b5c8f67fd632cdc62a33b62ae4f74194131b3","modified":1487187898000},{"_id":"themes/lattice/source/js/libs/jquery.js","hash":"a8ca6c1e4553704dfea3ad394305a8eb0e2165ef","modified":1487187898000},{"_id":"source/_posts/2017-08-06-canvas压缩图片/header.jpeg","hash":"009fe40f2f656b33fa096756cc641327a7a5368b","modified":1502357629000},{"_id":"source/_posts/2018-01-15-新年新展望/1.jpeg","hash":"d8159bf276d9a14070269bfa84e16087a6763408","modified":1505354345000},{"_id":"source/_posts/2017-07-24-chrome_1/1.gif","hash":"fc9258ca25761376812ad88810c7e0d6d99139c0","modified":1516784772000},{"_id":"source/_posts/2017-07-24-chrome_1/2.gif","hash":"e9fd22a4f5e188c218dfae5c54226dbdea31ae5b","modified":1516784802000}],"Category":[{"name":"Web开发","_id":"clezczi8n0004qts930jrwlc2"},{"name":"随笔","_id":"clezczi8t0009qts9nwlr1bxu"},{"name":"移动开发","_id":"clezczi8z000eqts92sifw0o4"},{"name":"游戏开发","_id":"clezczi94000mqts9pbw159pb"},{"name":"react开发","_id":"clezczi9b000qqts97t3qvp7s"},{"name":"性能优化","_id":"clezczi9c000xqts9zh6q193w"}],"Data":[{"_id":"menu","data":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"}},{"_id":"languages","data":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}}},{"_id":"cases","data":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}]},{"_id":"cates","data":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}]},{"_id":"links","data":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}],"Page":[{"title":"关于博客","type":"about","layout":"about","_content":"\n## About\n\n{% tag_cfg description %}\n\n## Contact\n\n### 公众号\n\n![QRCode](/img/qrcode.jpg)\n\n### 其它\n\n1. Github \n  \n  [Github/o2team](https://github.com/o2team)\n\n2. Twitter \n  \n  [twitter/o2circle](https://twitter.com/o2circle)","source":"about/index.md","raw":"title: 关于博客\ntype: about\nlayout: about\n---\n\n## About\n\n{% tag_cfg description %}\n\n## Contact\n\n### 公众号\n\n![QRCode](/img/qrcode.jpg)\n\n### 其它\n\n1. Github \n  \n  [Github/o2team](https://github.com/o2team)\n\n2. Twitter \n  \n  [twitter/o2circle](https://twitter.com/o2circle)","date":"2023-03-03T06:44:40.203Z","updated":"2017-07-24T08:42:59.000Z","path":"about/index.html","comments":1,"_id":"clezczi8e0000qts9xfb01odt","content":"<h2 id=\"About\"><a href=\"#About\" class=\"headerlink\" title=\"About\"></a>About</h2><p class=\"cfg-val\">您好，我是李经纶，这是我个人博客，用来记录我的一些学习跟成长的过程。分享一些包括但不限于交互、页面制作、前端开发等方面的知识。</p>\n<h2 id=\"Contact\"><a href=\"#Contact\" class=\"headerlink\" title=\"Contact\"></a>Contact</h2><h3 id=\"公众号\"><a href=\"#公众号\" class=\"headerlink\" title=\"公众号\"></a>公众号</h3><p><img src=\"/img/qrcode.jpg\" alt=\"QRCode\"></p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p>Github </p>\n<p><a href=\"https://github.com/o2team\" target=\"_blank\" rel=\"noopener\">Github/o2team</a></p>\n</li>\n<li><p>Twitter </p>\n<p><a href=\"https://twitter.com/o2circle\" target=\"_blank\" rel=\"noopener\">twitter/o2circle</a></p>\n</li>\n</ol>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<h2 id=\"About\"><a href=\"#About\" class=\"headerlink\" title=\"About\"></a>About</h2><p class=\"cfg-val\">您好，我是李经纶，这是我个人博客，用来记录我的一些学习跟成长的过程。分享一些包括但不限于交互、页面制作、前端开发等方面的知识。</p>\n<h2 id=\"Contact\"><a href=\"#Contact\" class=\"headerlink\" title=\"Contact\"></a>Contact</h2><h3 id=\"公众号\"><a href=\"#公众号\" class=\"headerlink\" title=\"公众号\"></a>公众号</h3><p><img src=\"/img/qrcode.jpg\" alt=\"QRCode\"></p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p>Github </p>\n<p><a href=\"https://github.com/o2team\" target=\"_blank\" rel=\"noopener\">Github/o2team</a></p>\n</li>\n<li><p>Twitter </p>\n<p><a href=\"https://twitter.com/o2circle\" target=\"_blank\" rel=\"noopener\">twitter/o2circle</a></p>\n</li>\n</ol>\n"},{"title":"cates","date":"2015-11-22T19:06:59.000Z","type":"cates","_content":"","source":"cates/index.md","raw":"title: cates\ndate: 2015-11-23 03:06:59\ntype: \"cates\"\n---","updated":"2017-03-05T09:39:48.000Z","path":"cates/index.html","comments":1,"layout":"page","_id":"clezczi8k0002qts9s1poc70a","content":"","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":""},{"title":"tags","date":"2015-11-22T19:06:47.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"title: tags\ndate: 2015-11-23 03:06:47\ntype: \"tags\"\n---","updated":"2023-03-01T09:40:53.836Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clezczia9001oqts9o67tnjih","content":"","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":""}],"Post":[{"title":"canvas压缩图片","subtitle":"两种canvas压缩图片的方法","cover":"2017/08/06/canvas%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87/header.jpeg","date":"2017-08-06T10:45:41.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\n最近遇到了图片压缩的问题，想在前端控制一下，所以有了一下代码。\n<!-- more -->\n一.canvas.toDataURL()\n\n具体使用方法为：canvas.toDataURL(type,encoderOptions)\n\n第一个参数type为，支持的类型，默认为images/png，第二个参数是质量，默认为0.92\n\n- 注意事项：\n  - 1、图片跨域问题\n  - 2、画布高度为0，会返回字符串\"data:,\"\n  - 3、图片类型，如：image/png、image/jpeg、image/webp\n  - 4、图片质量如为默认，则小心压缩的图片质量很有可能比原有大，如我上传一张120kb的图片，压缩后很有可能为140kb，base64会增加一部分。\n\n简单示例：\n```javascript\nvar fullQuality = canvas.toDataURL(\"image/jpeg\", 1.0);\n// data:image/jpeg;base64,/9j/4AAQSkZJRgABAQ...9oADAMBAAIRAxEAPwD/AD/6AP/Z\"\nvar mediumQuality = canvas.toDataURL(\"image/jpeg\", 0.5);\nvar lowQuality = canvas.toDataURL(\"image/jpeg\", 0.1);\n```\n\n完整代码:\n```\n<img src=\"\" alt=\"\" id=\"img\"  crossorigin=\"anonymous\">\n```\n\n```javascript\nfunction drawImg(path, callback) {\n                var img = new Image();\n                img.src = path;\n                img.onload = function () {\n                    //默认按比例压缩    \n                    var w = this.width,\n                        h = this.height;\n                    var quality = 0.75; // 默认图片质量为0.7    \n\n                    //生成canvas    \n                    var canvas = document.createElement('canvas');\n                    var ctx = canvas.getContext('2d');\n\n                    // 创建属性节点    \n                    canvas.setAttribute(\"width\", w);\n                    canvas.setAttribute(\"height\", h);\n\n                    ctx.drawImage(this, 0, 0, w, h);\n                    // quality值越小，所绘制出的图像越模糊    \n                    var base64 = canvas.toDataURL('image/jpeg', quality);\n                    console.log(\"压缩后的质量：\"+ base64.length / 1024 * quality);\n                    // 回调函数返回base64的值    \n                    callback(base64);\n                };\n\n            };\n\n            drawImg(\"xinghaivps.png\", function (base) {\n                //直接将获取到的base64的字符串，放到一个image标签中就可看到测试后的压缩之后的样式图了  \n                document.getElementById(\"img\").src = base;\n            })\n\n```\n\n\n二、canvas.drewImage()\n\n完整代码：\n```\n<canvas id=\"myCanvas\"></canvas>\n```\n\n```javascript\n function render(src,size) {\n                // 创建一个 Image 对象  \n                var image = new Image();\n                // 参数，最大高度  \n                // 绑定 load 事件处理器，加载完成后执行  \n                image.onload = function () {\n                    // 获取 canvas DOM 对象  \n                    var canvas = document.getElementById(\"myCanvas\");\n                    // 如果高度超标  \n                    if (image.height > size) {\n                        // 宽度等比例缩放 *=  \n                        image.width *= size / image.height;\n                        image.height = size;\n                    }\n                    // 获取 canvas的 2d 环境对象,  \n                    // 可以理解Context是管理员，canvas是房子  \n                    var ctx = canvas.getContext(\"2d\");\n                    // canvas清屏  \n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    // 重置canvas宽高  \n                    canvas.width = image.width;\n                    canvas.height = image.height;\n                    // 将图像绘制到canvas上  \n                    ctx.drawImage(image, 0, 0, image.width, image.height);\n                    // !!! 注意，image 没有加入到 dom之中  \n                };\n                // 设置src属性，浏览器会自动加载。  \n                // 记住必须先绑定事件，才能设置src属性，否则会出同步问题。  \n                image.src = src;\n            };\n\n            render('mei.jpg',1500)\n```\n\n\n\n参考：\n- [MDN-HTMLCanvasElement-toDataURL](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n- [MDN-CanvasRenderingContext2D](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage)","source":"_posts/2017-08-06-canvas压缩图片.md","raw":"title: canvas压缩图片\nsubtitle: \"两种canvas压缩图片的方法\"\ncover: 2017/08/06/canvas%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87/header.jpeg\ndate: 2017-08-06 18:45:41\ncategories: Web开发\ntags:\n  - canvas\n  - Web开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\n最近遇到了图片压缩的问题，想在前端控制一下，所以有了一下代码。\n<!-- more -->\n一.canvas.toDataURL()\n\n具体使用方法为：canvas.toDataURL(type,encoderOptions)\n\n第一个参数type为，支持的类型，默认为images/png，第二个参数是质量，默认为0.92\n\n- 注意事项：\n  - 1、图片跨域问题\n  - 2、画布高度为0，会返回字符串\"data:,\"\n  - 3、图片类型，如：image/png、image/jpeg、image/webp\n  - 4、图片质量如为默认，则小心压缩的图片质量很有可能比原有大，如我上传一张120kb的图片，压缩后很有可能为140kb，base64会增加一部分。\n\n简单示例：\n```javascript\nvar fullQuality = canvas.toDataURL(\"image/jpeg\", 1.0);\n// data:image/jpeg;base64,/9j/4AAQSkZJRgABAQ...9oADAMBAAIRAxEAPwD/AD/6AP/Z\"\nvar mediumQuality = canvas.toDataURL(\"image/jpeg\", 0.5);\nvar lowQuality = canvas.toDataURL(\"image/jpeg\", 0.1);\n```\n\n完整代码:\n```\n<img src=\"\" alt=\"\" id=\"img\"  crossorigin=\"anonymous\">\n```\n\n```javascript\nfunction drawImg(path, callback) {\n                var img = new Image();\n                img.src = path;\n                img.onload = function () {\n                    //默认按比例压缩    \n                    var w = this.width,\n                        h = this.height;\n                    var quality = 0.75; // 默认图片质量为0.7    \n\n                    //生成canvas    \n                    var canvas = document.createElement('canvas');\n                    var ctx = canvas.getContext('2d');\n\n                    // 创建属性节点    \n                    canvas.setAttribute(\"width\", w);\n                    canvas.setAttribute(\"height\", h);\n\n                    ctx.drawImage(this, 0, 0, w, h);\n                    // quality值越小，所绘制出的图像越模糊    \n                    var base64 = canvas.toDataURL('image/jpeg', quality);\n                    console.log(\"压缩后的质量：\"+ base64.length / 1024 * quality);\n                    // 回调函数返回base64的值    \n                    callback(base64);\n                };\n\n            };\n\n            drawImg(\"xinghaivps.png\", function (base) {\n                //直接将获取到的base64的字符串，放到一个image标签中就可看到测试后的压缩之后的样式图了  \n                document.getElementById(\"img\").src = base;\n            })\n\n```\n\n\n二、canvas.drewImage()\n\n完整代码：\n```\n<canvas id=\"myCanvas\"></canvas>\n```\n\n```javascript\n function render(src,size) {\n                // 创建一个 Image 对象  \n                var image = new Image();\n                // 参数，最大高度  \n                // 绑定 load 事件处理器，加载完成后执行  \n                image.onload = function () {\n                    // 获取 canvas DOM 对象  \n                    var canvas = document.getElementById(\"myCanvas\");\n                    // 如果高度超标  \n                    if (image.height > size) {\n                        // 宽度等比例缩放 *=  \n                        image.width *= size / image.height;\n                        image.height = size;\n                    }\n                    // 获取 canvas的 2d 环境对象,  \n                    // 可以理解Context是管理员，canvas是房子  \n                    var ctx = canvas.getContext(\"2d\");\n                    // canvas清屏  \n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    // 重置canvas宽高  \n                    canvas.width = image.width;\n                    canvas.height = image.height;\n                    // 将图像绘制到canvas上  \n                    ctx.drawImage(image, 0, 0, image.width, image.height);\n                    // !!! 注意，image 没有加入到 dom之中  \n                };\n                // 设置src属性，浏览器会自动加载。  \n                // 记住必须先绑定事件，才能设置src属性，否则会出同步问题。  \n                image.src = src;\n            };\n\n            render('mei.jpg',1500)\n```\n\n\n\n参考：\n- [MDN-HTMLCanvasElement-toDataURL](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n- [MDN-CanvasRenderingContext2D](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage)","slug":"canvas压缩图片","published":1,"updated":"2018-04-27T08:40:19.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8f0001qts97xb4ijt4","content":"<p>最近遇到了图片压缩的问题，想在前端控制一下，所以有了一下代码。<br><a id=\"more\"></a><br>一.canvas.toDataURL()</p>\n<p>具体使用方法为：canvas.toDataURL(type,encoderOptions)</p>\n<p>第一个参数type为，支持的类型，默认为images/png，第二个参数是质量，默认为0.92</p>\n<ul>\n<li>注意事项：<ul>\n<li>1、图片跨域问题</li>\n<li>2、画布高度为0，会返回字符串”data:,”</li>\n<li>3、图片类型，如：image/png、image/jpeg、image/webp</li>\n<li>4、图片质量如为默认，则小心压缩的图片质量很有可能比原有大，如我上传一张120kb的图片，压缩后很有可能为140kb，base64会增加一部分。</li>\n</ul>\n</li>\n</ul>\n<p>简单示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fullQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">1.0</span>);</span><br><span class=\"line\"><span class=\"comment\">// data:image/jpeg;base64,/9j/4AAQSkZJRgABAQ...9oADAMBAAIRAxEAPwD/AD/6AP/Z\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> mediumQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> lowQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">0.1</span>);</span><br></pre></td></tr></table></figure></p>\n<p>完整代码:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;img&quot;  crossorigin=&quot;anonymous&quot;&gt;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">drawImg</span>(<span class=\"params\">path, callback</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">                img.src = path;</span><br><span class=\"line\">                img.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">//默认按比例压缩    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> w = <span class=\"keyword\">this</span>.width,</span><br><span class=\"line\">                        h = <span class=\"keyword\">this</span>.height;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> quality = <span class=\"number\">0.75</span>; <span class=\"comment\">// 默认图片质量为0.7    </span></span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"comment\">//生成canvas    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"comment\">// 创建属性节点    </span></span><br><span class=\"line\">                    canvas.setAttribute(<span class=\"string\">\"width\"</span>, w);</span><br><span class=\"line\">                    canvas.setAttribute(<span class=\"string\">\"height\"</span>, h);</span><br><span class=\"line\"></span><br><span class=\"line\">                    ctx.drawImage(<span class=\"keyword\">this</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, w, h);</span><br><span class=\"line\">                    <span class=\"comment\">// quality值越小，所绘制出的图像越模糊    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> base64 = canvas.toDataURL(<span class=\"string\">'image/jpeg'</span>, quality);</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"压缩后的质量：\"</span>+ base64.length / <span class=\"number\">1024</span> * quality);</span><br><span class=\"line\">                    <span class=\"comment\">// 回调函数返回base64的值    </span></span><br><span class=\"line\">                    callback(base64);</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            drawImg(<span class=\"string\">\"xinghaivps.png\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">base</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">//直接将获取到的base64的字符串，放到一个image标签中就可看到测试后的压缩之后的样式图了  </span></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"img\"</span>).src = base;</span><br><span class=\"line\">            &#125;)</span><br></pre></td></tr></table></figure>\n<p>二、canvas.drewImage()</p>\n<p>完整代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;canvas id=&quot;myCanvas&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\">src,size</span>) </span>&#123;</span><br><span class=\"line\">               <span class=\"comment\">// 创建一个 Image 对象  </span></span><br><span class=\"line\">               <span class=\"keyword\">var</span> image = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">               <span class=\"comment\">// 参数，最大高度  </span></span><br><span class=\"line\">               <span class=\"comment\">// 绑定 load 事件处理器，加载完成后执行  </span></span><br><span class=\"line\">               image.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                   <span class=\"comment\">// 获取 canvas DOM 对象  </span></span><br><span class=\"line\">                   <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"myCanvas\"</span>);</span><br><span class=\"line\">                   <span class=\"comment\">// 如果高度超标  </span></span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (image.height &gt; size) &#123;</span><br><span class=\"line\">                       <span class=\"comment\">// 宽度等比例缩放 *=  </span></span><br><span class=\"line\">                       image.width *= size / image.height;</span><br><span class=\"line\">                       image.height = size;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">                   <span class=\"comment\">// 获取 canvas的 2d 环境对象,  </span></span><br><span class=\"line\">                   <span class=\"comment\">// 可以理解Context是管理员，canvas是房子  </span></span><br><span class=\"line\">                   <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">\"2d\"</span>);</span><br><span class=\"line\">                   <span class=\"comment\">// canvas清屏  </span></span><br><span class=\"line\">                   ctx.clearRect(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvas.width, canvas.height);</span><br><span class=\"line\">                   <span class=\"comment\">// 重置canvas宽高  </span></span><br><span class=\"line\">                   canvas.width = image.width;</span><br><span class=\"line\">                   canvas.height = image.height;</span><br><span class=\"line\">                   <span class=\"comment\">// 将图像绘制到canvas上  </span></span><br><span class=\"line\">                   ctx.drawImage(image, <span class=\"number\">0</span>, <span class=\"number\">0</span>, image.width, image.height);</span><br><span class=\"line\">                   <span class=\"comment\">// !!! 注意，image 没有加入到 dom之中  </span></span><br><span class=\"line\">               &#125;;</span><br><span class=\"line\">               <span class=\"comment\">// 设置src属性，浏览器会自动加载。  </span></span><br><span class=\"line\">               <span class=\"comment\">// 记住必须先绑定事件，才能设置src属性，否则会出同步问题。  </span></span><br><span class=\"line\">               image.src = src;</span><br><span class=\"line\">           &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">           render(<span class=\"string\">'mei.jpg'</span>,<span class=\"number\">1500</span>)</span><br></pre></td></tr></table></figure>\n<p>参考：</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\" target=\"_blank\" rel=\"noopener\">MDN-HTMLCanvasElement-toDataURL</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage\" target=\"_blank\" rel=\"noopener\">MDN-CanvasRenderingContext2D</a></li>\n</ul>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"<p>最近遇到了图片压缩的问题，想在前端控制一下，所以有了一下代码。<br>","more":"<br>一.canvas.toDataURL()</p>\n<p>具体使用方法为：canvas.toDataURL(type,encoderOptions)</p>\n<p>第一个参数type为，支持的类型，默认为images/png，第二个参数是质量，默认为0.92</p>\n<ul>\n<li>注意事项：<ul>\n<li>1、图片跨域问题</li>\n<li>2、画布高度为0，会返回字符串”data:,”</li>\n<li>3、图片类型，如：image/png、image/jpeg、image/webp</li>\n<li>4、图片质量如为默认，则小心压缩的图片质量很有可能比原有大，如我上传一张120kb的图片，压缩后很有可能为140kb，base64会增加一部分。</li>\n</ul>\n</li>\n</ul>\n<p>简单示例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fullQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">1.0</span>);</span><br><span class=\"line\"><span class=\"comment\">// data:image/jpeg;base64,/9j/4AAQSkZJRgABAQ...9oADAMBAAIRAxEAPwD/AD/6AP/Z\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> mediumQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> lowQuality = canvas.toDataURL(<span class=\"string\">\"image/jpeg\"</span>, <span class=\"number\">0.1</span>);</span><br></pre></td></tr></table></figure></p>\n<p>完整代码:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;img&quot;  crossorigin=&quot;anonymous&quot;&gt;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">drawImg</span>(<span class=\"params\">path, callback</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">                img.src = path;</span><br><span class=\"line\">                img.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">//默认按比例压缩    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> w = <span class=\"keyword\">this</span>.width,</span><br><span class=\"line\">                        h = <span class=\"keyword\">this</span>.height;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> quality = <span class=\"number\">0.75</span>; <span class=\"comment\">// 默认图片质量为0.7    </span></span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"comment\">//生成canvas    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"comment\">// 创建属性节点    </span></span><br><span class=\"line\">                    canvas.setAttribute(<span class=\"string\">\"width\"</span>, w);</span><br><span class=\"line\">                    canvas.setAttribute(<span class=\"string\">\"height\"</span>, h);</span><br><span class=\"line\"></span><br><span class=\"line\">                    ctx.drawImage(<span class=\"keyword\">this</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, w, h);</span><br><span class=\"line\">                    <span class=\"comment\">// quality值越小，所绘制出的图像越模糊    </span></span><br><span class=\"line\">                    <span class=\"keyword\">var</span> base64 = canvas.toDataURL(<span class=\"string\">'image/jpeg'</span>, quality);</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"压缩后的质量：\"</span>+ base64.length / <span class=\"number\">1024</span> * quality);</span><br><span class=\"line\">                    <span class=\"comment\">// 回调函数返回base64的值    </span></span><br><span class=\"line\">                    callback(base64);</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            drawImg(<span class=\"string\">\"xinghaivps.png\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">base</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">//直接将获取到的base64的字符串，放到一个image标签中就可看到测试后的压缩之后的样式图了  </span></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"img\"</span>).src = base;</span><br><span class=\"line\">            &#125;)</span><br></pre></td></tr></table></figure>\n<p>二、canvas.drewImage()</p>\n<p>完整代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;canvas id=&quot;myCanvas&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\">src,size</span>) </span>&#123;</span><br><span class=\"line\">               <span class=\"comment\">// 创建一个 Image 对象  </span></span><br><span class=\"line\">               <span class=\"keyword\">var</span> image = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">               <span class=\"comment\">// 参数，最大高度  </span></span><br><span class=\"line\">               <span class=\"comment\">// 绑定 load 事件处理器，加载完成后执行  </span></span><br><span class=\"line\">               image.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                   <span class=\"comment\">// 获取 canvas DOM 对象  </span></span><br><span class=\"line\">                   <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"myCanvas\"</span>);</span><br><span class=\"line\">                   <span class=\"comment\">// 如果高度超标  </span></span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (image.height &gt; size) &#123;</span><br><span class=\"line\">                       <span class=\"comment\">// 宽度等比例缩放 *=  </span></span><br><span class=\"line\">                       image.width *= size / image.height;</span><br><span class=\"line\">                       image.height = size;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">                   <span class=\"comment\">// 获取 canvas的 2d 环境对象,  </span></span><br><span class=\"line\">                   <span class=\"comment\">// 可以理解Context是管理员，canvas是房子  </span></span><br><span class=\"line\">                   <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">\"2d\"</span>);</span><br><span class=\"line\">                   <span class=\"comment\">// canvas清屏  </span></span><br><span class=\"line\">                   ctx.clearRect(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvas.width, canvas.height);</span><br><span class=\"line\">                   <span class=\"comment\">// 重置canvas宽高  </span></span><br><span class=\"line\">                   canvas.width = image.width;</span><br><span class=\"line\">                   canvas.height = image.height;</span><br><span class=\"line\">                   <span class=\"comment\">// 将图像绘制到canvas上  </span></span><br><span class=\"line\">                   ctx.drawImage(image, <span class=\"number\">0</span>, <span class=\"number\">0</span>, image.width, image.height);</span><br><span class=\"line\">                   <span class=\"comment\">// !!! 注意，image 没有加入到 dom之中  </span></span><br><span class=\"line\">               &#125;;</span><br><span class=\"line\">               <span class=\"comment\">// 设置src属性，浏览器会自动加载。  </span></span><br><span class=\"line\">               <span class=\"comment\">// 记住必须先绑定事件，才能设置src属性，否则会出同步问题。  </span></span><br><span class=\"line\">               image.src = src;</span><br><span class=\"line\">           &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">           render(<span class=\"string\">'mei.jpg'</span>,<span class=\"number\">1500</span>)</span><br></pre></td></tr></table></figure>\n<p>参考：</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\" target=\"_blank\" rel=\"noopener\">MDN-HTMLCanvasElement-toDataURL</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage\" target=\"_blank\" rel=\"noopener\">MDN-CanvasRenderingContext2D</a></li>\n</ul>"},{"title":"新年新展望","subtitle":"新年新展望","cover":"2017/08/06/canvas%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87/header.jpeg","date":"2018-01-15T07:12:32.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\n\"又是一年芳草绿,春风十里杏花香\"\n总结一下去年的自己，去年自己算是挺圆满的了，结了个婚，换了份工作，虽然不是什么大人物，但是小人物也有小人物的幸福，挺知足的。\n去年自己成功的把vueJs引入上家公司，并完成了前后端的完全分离，极大的解放了生产力和提高了效率，并使得公司绝大部分人都学习了vue及nodejs，\n并使用vue开发了3、4个大型的项目，对vue也算是从熟悉到理解，并能够把element-ui中的组件重写或者更改；项目中也使用了很多ES6的语法，对\nES6也算是很熟悉了吧。看了将近20本左右的书籍，其中文学读物（金庸、古龙、梁羽生、四大名著、~~网络小说~~）占比一半，技术书籍（js、python、nodejs、css）占一半，总体来说，看书的收获还是挺大的，希望自己有一天也能出书。\n\n<img src=\"1.jpeg\" width=\"500px\">\n\n又是一年的开始，做个今年的计划吧！\n1、写完自己的vueUI组件，传说中的Lui，哈哈\n2、写go程序或者python，毕竟很久没写了\n3、写一款自己的小游戏\n4、精通typescript\n5、看完10左右的技术书籍\n","source":"_posts/2018-01-15-新年新展望.md","raw":"---\ntitle: 新年新展望\nsubtitle: \"新年新展望\"\ncover: 2017/08/06/canvas%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87/header.jpeg\ndate: 2018-01-15 15:12:32\ncategories: 随笔\ntags:\n  - 随笔\n  - 随笔\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\n\"又是一年芳草绿,春风十里杏花香\"\n总结一下去年的自己，去年自己算是挺圆满的了，结了个婚，换了份工作，虽然不是什么大人物，但是小人物也有小人物的幸福，挺知足的。\n去年自己成功的把vueJs引入上家公司，并完成了前后端的完全分离，极大的解放了生产力和提高了效率，并使得公司绝大部分人都学习了vue及nodejs，\n并使用vue开发了3、4个大型的项目，对vue也算是从熟悉到理解，并能够把element-ui中的组件重写或者更改；项目中也使用了很多ES6的语法，对\nES6也算是很熟悉了吧。看了将近20本左右的书籍，其中文学读物（金庸、古龙、梁羽生、四大名著、~~网络小说~~）占比一半，技术书籍（js、python、nodejs、css）占一半，总体来说，看书的收获还是挺大的，希望自己有一天也能出书。\n\n<img src=\"1.jpeg\" width=\"500px\">\n\n又是一年的开始，做个今年的计划吧！\n1、写完自己的vueUI组件，传说中的Lui，哈哈\n2、写go程序或者python，毕竟很久没写了\n3、写一款自己的小游戏\n4、精通typescript\n5、看完10左右的技术书籍\n","slug":"新年新展望","published":1,"updated":"2018-04-25T08:25:09.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8l0003qts9nnf6jk1l","content":"<p>“又是一年芳草绿,春风十里杏花香”<br>总结一下去年的自己，去年自己算是挺圆满的了，结了个婚，换了份工作，虽然不是什么大人物，但是小人物也有小人物的幸福，挺知足的。<br>去年自己成功的把vueJs引入上家公司，并完成了前后端的完全分离，极大的解放了生产力和提高了效率，并使得公司绝大部分人都学习了vue及nodejs，<br>并使用vue开发了3、4个大型的项目，对vue也算是从熟悉到理解，并能够把element-ui中的组件重写或者更改；项目中也使用了很多ES6的语法，对<br>ES6也算是很熟悉了吧。看了将近20本左右的书籍，其中文学读物（金庸、古龙、梁羽生、四大名著、<del>网络小说</del>）占比一半，技术书籍（js、python、nodejs、css）占一半，总体来说，看书的收获还是挺大的，希望自己有一天也能出书。</p>\n<p><img src=\"1.jpeg\" width=\"500px\"></p>\n<p>又是一年的开始，做个今年的计划吧！<br>1、写完自己的vueUI组件，传说中的Lui，哈哈<br>2、写go程序或者python，毕竟很久没写了<br>3、写一款自己的小游戏<br>4、精通typescript<br>5、看完10左右的技术书籍</p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>“又是一年芳草绿,春风十里杏花香”<br>总结一下去年的自己，去年自己算是挺圆满的了，结了个婚，换了份工作，虽然不是什么大人物，但是小人物也有小人物的幸福，挺知足的。<br>去年自己成功的把vueJs引入上家公司，并完成了前后端的完全分离，极大的解放了生产力和提高了效率，并使得公司绝大部分人都学习了vue及nodejs，<br>并使用vue开发了3、4个大型的项目，对vue也算是从熟悉到理解，并能够把element-ui中的组件重写或者更改；项目中也使用了很多ES6的语法，对<br>ES6也算是很熟悉了吧。看了将近20本左右的书籍，其中文学读物（金庸、古龙、梁羽生、四大名著、<del>网络小说</del>）占比一半，技术书籍（js、python、nodejs、css）占一半，总体来说，看书的收获还是挺大的，希望自己有一天也能出书。</p>\n<p><img src=\"1.jpeg\" width=\"500px\"></p>\n<p>又是一年的开始，做个今年的计划吧！<br>1、写完自己的vueUI组件，传说中的Lui，哈哈<br>2、写go程序或者python，毕竟很久没写了<br>3、写一款自己的小游戏<br>4、精通typescript<br>5、看完10左右的技术书籍</p>\n"},{"title":"chrome下调试小技巧（一）","subtitle":"test","cover":"2018/04/27/登录/cover.jpg","date":"2017-07-24T09:52:37.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\nchrome下调试小技巧（一）\n\n## 1、快速格式化线上压缩的js和css\n我们通常看线上的js或者css都是这样的\n\n![css](1.png)\n![css](3.png)\n通过在sources下的{}，点击即可格式化代码很方便\n![css](5.png)\n![css](2.png)\n![css](4.png)\n\n## 2、在浏览器中储存你的代码段\n其实chrome中也是可以储存我们自己的代码的，如果不想每次都粘贴在控制台中或者临时想写些什么，那么sources中的Sinppets将是你的一个很好的选择，\nSinppets中你可以新建很多个不同的代码段，跟文本一样，可以写一些文字或者代码，可以command+s保存，如果你写的是js代码一类的，可以直接右键你的Sinppets\n文件名称，点击Run，即可执行你的代码，也可以右键文件Save as保存文件到本地。\n![css](6.png)\n\n## 3、快速定位到指定的文件或者文件中的方法\nctrl+p 项目中定位文件，以下查找VueJS库文件：\n![css](1.gif)\nctrl+shif+o 文件中定位成员函数，以下定位到VueJS的nextTick接口：\n![css](2.gif)\n\n暂且写这么多，network及短点什么的，估计大家都会用了，就不介绍了。","source":"_posts/2017-07-24-chrome_1.md","raw":"title: chrome下调试小技巧（一）\nsubtitle: \"test\"\ncover: 2018/04/27/登录/cover.jpg\ndate: 2017-07-24 17:52:37\ncategories: 移动开发\ntags:\n  - Hexo\n  - 移动开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\nchrome下调试小技巧（一）\n\n## 1、快速格式化线上压缩的js和css\n我们通常看线上的js或者css都是这样的\n\n![css](1.png)\n![css](3.png)\n通过在sources下的{}，点击即可格式化代码很方便\n![css](5.png)\n![css](2.png)\n![css](4.png)\n\n## 2、在浏览器中储存你的代码段\n其实chrome中也是可以储存我们自己的代码的，如果不想每次都粘贴在控制台中或者临时想写些什么，那么sources中的Sinppets将是你的一个很好的选择，\nSinppets中你可以新建很多个不同的代码段，跟文本一样，可以写一些文字或者代码，可以command+s保存，如果你写的是js代码一类的，可以直接右键你的Sinppets\n文件名称，点击Run，即可执行你的代码，也可以右键文件Save as保存文件到本地。\n![css](6.png)\n\n## 3、快速定位到指定的文件或者文件中的方法\nctrl+p 项目中定位文件，以下查找VueJS库文件：\n![css](1.gif)\nctrl+shif+o 文件中定位成员函数，以下定位到VueJS的nextTick接口：\n![css](2.gif)\n\n暂且写这么多，network及短点什么的，估计大家都会用了，就不介绍了。","slug":"chrome_1","published":1,"updated":"2023-02-22T08:36:19.133Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8p0006qts98sqflfa6","content":"<p>chrome下调试小技巧（一）</p>\n<h2 id=\"1、快速格式化线上压缩的js和css\"><a href=\"#1、快速格式化线上压缩的js和css\" class=\"headerlink\" title=\"1、快速格式化线上压缩的js和css\"></a>1、快速格式化线上压缩的js和css</h2><p>我们通常看线上的js或者css都是这样的</p>\n<p><img src=\"1.png\" alt=\"css\"><br><img src=\"3.png\" alt=\"css\"><br>通过在sources下的{}，点击即可格式化代码很方便<br><img src=\"5.png\" alt=\"css\"><br><img src=\"2.png\" alt=\"css\"><br><img src=\"4.png\" alt=\"css\"></p>\n<h2 id=\"2、在浏览器中储存你的代码段\"><a href=\"#2、在浏览器中储存你的代码段\" class=\"headerlink\" title=\"2、在浏览器中储存你的代码段\"></a>2、在浏览器中储存你的代码段</h2><p>其实chrome中也是可以储存我们自己的代码的，如果不想每次都粘贴在控制台中或者临时想写些什么，那么sources中的Sinppets将是你的一个很好的选择，<br>Sinppets中你可以新建很多个不同的代码段，跟文本一样，可以写一些文字或者代码，可以command+s保存，如果你写的是js代码一类的，可以直接右键你的Sinppets<br>文件名称，点击Run，即可执行你的代码，也可以右键文件Save as保存文件到本地。<br><img src=\"6.png\" alt=\"css\"></p>\n<h2 id=\"3、快速定位到指定的文件或者文件中的方法\"><a href=\"#3、快速定位到指定的文件或者文件中的方法\" class=\"headerlink\" title=\"3、快速定位到指定的文件或者文件中的方法\"></a>3、快速定位到指定的文件或者文件中的方法</h2><p>ctrl+p 项目中定位文件，以下查找VueJS库文件：<br><img src=\"1.gif\" alt=\"css\"><br>ctrl+shif+o 文件中定位成员函数，以下定位到VueJS的nextTick接口：<br><img src=\"2.gif\" alt=\"css\"></p>\n<p>暂且写这么多，network及短点什么的，估计大家都会用了，就不介绍了。</p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>chrome下调试小技巧（一）</p>\n<h2 id=\"1、快速格式化线上压缩的js和css\"><a href=\"#1、快速格式化线上压缩的js和css\" class=\"headerlink\" title=\"1、快速格式化线上压缩的js和css\"></a>1、快速格式化线上压缩的js和css</h2><p>我们通常看线上的js或者css都是这样的</p>\n<p><img src=\"1.png\" alt=\"css\"><br><img src=\"3.png\" alt=\"css\"><br>通过在sources下的{}，点击即可格式化代码很方便<br><img src=\"5.png\" alt=\"css\"><br><img src=\"2.png\" alt=\"css\"><br><img src=\"4.png\" alt=\"css\"></p>\n<h2 id=\"2、在浏览器中储存你的代码段\"><a href=\"#2、在浏览器中储存你的代码段\" class=\"headerlink\" title=\"2、在浏览器中储存你的代码段\"></a>2、在浏览器中储存你的代码段</h2><p>其实chrome中也是可以储存我们自己的代码的，如果不想每次都粘贴在控制台中或者临时想写些什么，那么sources中的Sinppets将是你的一个很好的选择，<br>Sinppets中你可以新建很多个不同的代码段，跟文本一样，可以写一些文字或者代码，可以command+s保存，如果你写的是js代码一类的，可以直接右键你的Sinppets<br>文件名称，点击Run，即可执行你的代码，也可以右键文件Save as保存文件到本地。<br><img src=\"6.png\" alt=\"css\"></p>\n<h2 id=\"3、快速定位到指定的文件或者文件中的方法\"><a href=\"#3、快速定位到指定的文件或者文件中的方法\" class=\"headerlink\" title=\"3、快速定位到指定的文件或者文件中的方法\"></a>3、快速定位到指定的文件或者文件中的方法</h2><p>ctrl+p 项目中定位文件，以下查找VueJS库文件：<br><img src=\"1.gif\" alt=\"css\"><br>ctrl+shif+o 文件中定位成员函数，以下定位到VueJS的nextTick接口：<br><img src=\"2.gif\" alt=\"css\"></p>\n<p>暂且写这么多，network及短点什么的，估计大家都会用了，就不介绍了。</p>\n"},{"title":"iTerm2 免密登录 SSH 的方法","subtitle":"iTerm2 免密登录 SSH 的方法","cover":"2018/04/27/登录/cover.jpg","date":"2018-04-27T06:50:59.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\n大家都知道使用iTerm2连接shh 使用命令 ssh -p22 root@129.10.10.1，然后输入密码即可。但是对于我们的服务器或者测试服务器，每次都这么手动ssh连接太慢了而且麻烦，我们可以考虑使用比较快捷的方式去连接的。\n\n1、在~/.ssh下，新建文件，比如login，或者test1等；\n![css](1.png)\n2、\n```javascript\n  #!/usr/bin/expect -f\n  set user root\n  set host 192.168.1.109\n  set password test123###\n  set timeout -1\n\n  spawn ssh $user@$host\n  expect \"*assword:*\"\n  send \"$password\\r\"\n  interact\n  expect eof\n```\n3、如果是其他的端口，在set一个port xxxx，xxxx对应你的端口；\n4、打开iterm2的Profiles，点击+号，新增一个profile，name写自己连接主机的名称，然后在command上选择command，把：\n```\nexpect ~/.ssh/login\n```\n后面的login对应你建立的文件名称\n5、使用的时候，直接在iterm2上面的Profiles选择你填写的用户名即可。\n![css](2.png)","source":"_posts/2018-04-27-登录.md","raw":"---\ntitle: iTerm2 免密登录 SSH 的方法\nsubtitle: iTerm2 免密登录 SSH 的方法\ncover: 2018/04/27/登录/cover.jpg\ndate: 2018-04-27 14:50:59\ncategories: Web开发\ntags:\n  - iterm2配置\n  - ssh\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\n大家都知道使用iTerm2连接shh 使用命令 ssh -p22 root@129.10.10.1，然后输入密码即可。但是对于我们的服务器或者测试服务器，每次都这么手动ssh连接太慢了而且麻烦，我们可以考虑使用比较快捷的方式去连接的。\n\n1、在~/.ssh下，新建文件，比如login，或者test1等；\n![css](1.png)\n2、\n```javascript\n  #!/usr/bin/expect -f\n  set user root\n  set host 192.168.1.109\n  set password test123###\n  set timeout -1\n\n  spawn ssh $user@$host\n  expect \"*assword:*\"\n  send \"$password\\r\"\n  interact\n  expect eof\n```\n3、如果是其他的端口，在set一个port xxxx，xxxx对应你的端口；\n4、打开iterm2的Profiles，点击+号，新增一个profile，name写自己连接主机的名称，然后在command上选择command，把：\n```\nexpect ~/.ssh/login\n```\n后面的login对应你建立的文件名称\n5、使用的时候，直接在iterm2上面的Profiles选择你填写的用户名即可。\n![css](2.png)","slug":"登录","published":1,"updated":"2018-04-27T08:41:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8q0007qts9kju4uyue","content":"<p>大家都知道使用iTerm2连接shh 使用命令 ssh -p22 <a href=\"mailto:root@129.10.10.1\" target=\"_blank\" rel=\"noopener\">root@129.10.10.1</a>，然后输入密码即可。但是对于我们的服务器或者测试服务器，每次都这么手动ssh连接太慢了而且麻烦，我们可以考虑使用比较快捷的方式去连接的。</p>\n<p>1、在~/.ssh下，新建文件，比如login，或者test1等；<br><img src=\"1.png\" alt=\"css\"><br>2、<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/expect -f</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> user root</span><br><span class=\"line\"><span class=\"keyword\">set</span> host 192.168.1.109</span><br><span class=\"line\"><span class=\"keyword\">set</span> password test123###</span><br><span class=\"line\"><span class=\"keyword\">set</span> timeout -1</span><br><span class=\"line\"></span><br><span class=\"line\">spawn ssh $user@$host</span><br><span class=\"line\">expect \"*assword:*\"</span><br><span class=\"line\">send \"$password\\r\"</span><br><span class=\"line\">interact</span><br><span class=\"line\">expect eof</span><br></pre></td></tr></table></figure></p>\n<p>3、如果是其他的端口，在set一个port xxxx，xxxx对应你的端口；<br>4、打开iterm2的Profiles，点击+号，新增一个profile，name写自己连接主机的名称，然后在command上选择command，把：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect ~/.ssh/login</span><br></pre></td></tr></table></figure></p>\n<p>后面的login对应你建立的文件名称<br>5、使用的时候，直接在iterm2上面的Profiles选择你填写的用户名即可。<br><img src=\"2.png\" alt=\"css\"></p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>大家都知道使用iTerm2连接shh 使用命令 ssh -p22 <a href=\"mailto:root@129.10.10.1\" target=\"_blank\" rel=\"noopener\">root@129.10.10.1</a>，然后输入密码即可。但是对于我们的服务器或者测试服务器，每次都这么手动ssh连接太慢了而且麻烦，我们可以考虑使用比较快捷的方式去连接的。</p>\n<p>1、在~/.ssh下，新建文件，比如login，或者test1等；<br><img src=\"1.png\" alt=\"css\"><br>2、<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/expect -f</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> user root</span><br><span class=\"line\"><span class=\"keyword\">set</span> host 192.168.1.109</span><br><span class=\"line\"><span class=\"keyword\">set</span> password test123###</span><br><span class=\"line\"><span class=\"keyword\">set</span> timeout -1</span><br><span class=\"line\"></span><br><span class=\"line\">spawn ssh $user@$host</span><br><span class=\"line\">expect \"*assword:*\"</span><br><span class=\"line\">send \"$password\\r\"</span><br><span class=\"line\">interact</span><br><span class=\"line\">expect eof</span><br></pre></td></tr></table></figure></p>\n<p>3、如果是其他的端口，在set一个port xxxx，xxxx对应你的端口；<br>4、打开iterm2的Profiles，点击+号，新增一个profile，name写自己连接主机的名称，然后在command上选择command，把：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">expect ~/.ssh/login</span><br></pre></td></tr></table></figure></p>\n<p>后面的login对应你建立的文件名称<br>5、使用的时候，直接在iterm2上面的Profiles选择你填写的用户名即可。<br><img src=\"2.png\" alt=\"css\"></p>\n"},{"title":"Phaser游戏开发1","subtitle":"Phaser游戏开发1","cover":"2018/04/27/登录/cover.jpg","date":"2018-04-27T09:06:30.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\n最近开发基于微信分享的h5小游戏，之前试用createJs，觉得想换个游戏引擎试试，所以找到了Phaser，基于pixi，内置了物理引擎，动画等。\n\n### 初始化\n```javascript\nvar game = new Phaser.Game(288,505,Phaser.AUTO,'game',state); \nvar game = new Phaser.Game(288,505,Phaser.AUTO,'game',{proload:proload,create:create});\n\nPhaser.Game(width, height, renderer, parent, state, transparent, antialias, physicsConfig)\nwidth: 游戏场景的宽度，单位为px\nheight: 高度，\nrenderer: 渲染方式，有Phaser.CANVAS，Phaser.WebGL，Phaser.AUTO，auto是自动识别\nparent: 用来放置canvas元素的父元素，可以是一个元素id，也可以是dom元素本身，phaser会自动创建一个canvas并插入到这个元素中\nstate: 场景，通常会有（init，proload，create，update等）\n```\nstate 是一个场景，可以是一个对象，也可以是一个构造函数，只要存在proload、create、update中的一个，就是一个合法的state；\n\n```javascript\n//state可以是一个自定义对象\nvar state1 = {\n    preload : function(){ },\n    create : function(){ },\n    update : function(){ }    \n}\n\n//state也可以是一个构造函数\nvar state2 = function(){\n    this.preload = function(){ };\n    this.create = function(){ };\n    this.update = function(){ };\n}\n//state里面可以存在其他的方法，和属性\n//state里面只要存一个proload、create、update中一个即可\nvar state3 = function(){\n    this.aaa = function(){};\n    this.bbb = 'first';\n    this.create=function(){}\n}\n```\n\n### 加载资源\nproload函数是最先执行的，用来加载资源、create是初始化场景的函数，等proload执行完成后执行，update是更新函数，游戏每一帧都要执行update；\n\n```javascrpt\n    function state() {\n        //加载资源\n        this.preload = function () {\n            // load img and 精灵\n            game.load.image(\"sky\", 'assets/sky.png');\n            game.load.image(\"platform\", 'assets/platform.png');\n            game.load.image(\"star\", 'assets/star.png');\n            game.load.spritesheet('dude', \"assets/dude.png\", 32, 48);\n        }\n    }\n```\n使用方法为:\ngame.load.'资源'('别名','路径')；\n常用的资源有：image、audio、tilemap、text、spritesheet；\n别名指后面用的名称；\n其中spritesheet还需要添加每帧的宽高帧数等。\n\n### 初始界面\n资源加载完成后，会自动进入create函数\n```javascript\n this.create = function () {\n     game.add.sprite(0,0,'sky')\n }\n```\nsprite对象，也叫精灵，可以用图片来创建精灵，然后用phaser提供的属性，来操作。\n```javascript\n    game.add.sprite(0,0,'sky')\n```\n创建后，会自动添加对应的内容在主界面。\n说一个比较重要的对象：Phaser.group(),也就是组，相当于一个统一一个父容器，把需要的子对象放进去，然后可以通过组的方法进行批量的操作，比如统一的位移和碰撞检测等。\n```javascript\n    platforms = game.add.group();\n\n    var ground = platforms.create(0,0,'platform');\n\n    var ledge = platforms.create(400,200,'platform');\n\n```\n\n### 物理引擎\nPhaser已支持一些不同的物理系统，有Arcade Physics,，Ninja Physics 和 P2.JS Full-Body Physics。对与简单的物理方法，我们使用Arcade Physics即可。\n物理引擎在Phaser中是默认关闭的，要启用可以在create中使用：\n```javascript\n    game.physics.startSystem(Phaser.Physics.ARCADE);\n```\n要启用整组的物理属性，使用enableBody即可\n```javascript\n     platforms.enableBody = true;\n```\n开启物理属性后，即可得到一个body属性，所有的物理属性方法都挂在body上面\n常用的属性有：\nimmovable、bounce、gravity、drag、sprite、x、y、collideWorldBounds、input等，对应各种固定，弹性、重力，拖拽，边界等。\n\n```javascript\nground.body.immovable = true;\nlegs.body.immovable = true;\n```\n\n```\n    player.animations.add('left', [0, 1, 2, 3], 10, true);\n    player.animations.add('right', [5, 6, 7, 8], 10, true);\n```\nTileSprite、Rope、Image、Button、Sprite等拥有animations属性，可以添加动画方法\n```\nPhaser.Sprite.animations.add(name, frames, frameRate, loop, useNumericIndex)\n```\n分别为动画名称，帧数数组，每秒帧数，循环次数；\n\n### 添加文字\n```javascript\ngame.add.text(10,10,'score:0',{ font: \"35px Arial\", fill: \"#ff0044\"})\n```\n//Phaser.Game.add.text(x, y, text, style, group);\n如果你经常使用canvas的话，对这种应该不陌生，分别为：x、y、文字内容，样式组。\n\n这样我们基本完成了create函数的内容：\n```javascript\nthis.create=function () {\n        //开启物理引擎\n        game.physics.startSystem(Phaser.Physics.ARCADE);\n        //添加天空\n        game.add.sprite(0, 0, 'sky');\n        //添加地板组\n        platforms = game.add.group();\n        //开启地板组的物理属性\n        platforms.enableBody = true;\n        //添加底部地板\n        var grounds = platforms.create(0,game.world.height-32,'platform');\n        //设置缩放\n        grounds.scale.setTo(2,1);\n        //禁止移动\n        grounds.body.immovable = true;\n\n        var legs = platforms.create(-150,120,'platform');\n        legs.body.immovable = true;\n\n        legs = platforms.create(400,270,'platform');\n        legs.body.immovable = true;\n\n\n        //添加人物\n        player = game.add.sprite(32, 150, 'dude');\n        game.physics.arcade.enable(player);\n\n        player.body.bounce.y = 0.3;\n        player.body.gravity.y = 500;\n        player.body.collideWorldBounds = true;\n\n        player.animations.add('left', [0, 1, 2, 3], 10, true);\n        player.animations.add('right', [5, 6, 7, 8], 10, true);\n\n        cursors = game.input.keyboard.createCursorKeys();\n\n        //添加文字\n        fonts = game.add.text(10,10,'score:0',{ font: \"35px Arial\", fill: \"#ff0044\"})\n        //添加星星\n        stars = game.add.group();\n        stars.enableBody = true;\n        for(var i =0;i<12;i++){\n           var star = stars.create(i * 70 , 0, 'star');\n           star.body.bounce.y = 0.7;\n           star.body.gravity.y = 400;\n           star.body.collideWorldBounds = true;\n        }\n    }\n```","source":"_posts/2018-04-27-Phaser游戏开发.md","raw":"---\ntitle: Phaser游戏开发1\nsubtitle: Phaser游戏开发1\ncover: 2018/04/27/登录/cover.jpg\ndate: 2018-04-27 17:06:30\ncategories: 游戏开发\ntags:\n  - Phaser\n  - 游戏开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\n最近开发基于微信分享的h5小游戏，之前试用createJs，觉得想换个游戏引擎试试，所以找到了Phaser，基于pixi，内置了物理引擎，动画等。\n\n### 初始化\n```javascript\nvar game = new Phaser.Game(288,505,Phaser.AUTO,'game',state); \nvar game = new Phaser.Game(288,505,Phaser.AUTO,'game',{proload:proload,create:create});\n\nPhaser.Game(width, height, renderer, parent, state, transparent, antialias, physicsConfig)\nwidth: 游戏场景的宽度，单位为px\nheight: 高度，\nrenderer: 渲染方式，有Phaser.CANVAS，Phaser.WebGL，Phaser.AUTO，auto是自动识别\nparent: 用来放置canvas元素的父元素，可以是一个元素id，也可以是dom元素本身，phaser会自动创建一个canvas并插入到这个元素中\nstate: 场景，通常会有（init，proload，create，update等）\n```\nstate 是一个场景，可以是一个对象，也可以是一个构造函数，只要存在proload、create、update中的一个，就是一个合法的state；\n\n```javascript\n//state可以是一个自定义对象\nvar state1 = {\n    preload : function(){ },\n    create : function(){ },\n    update : function(){ }    \n}\n\n//state也可以是一个构造函数\nvar state2 = function(){\n    this.preload = function(){ };\n    this.create = function(){ };\n    this.update = function(){ };\n}\n//state里面可以存在其他的方法，和属性\n//state里面只要存一个proload、create、update中一个即可\nvar state3 = function(){\n    this.aaa = function(){};\n    this.bbb = 'first';\n    this.create=function(){}\n}\n```\n\n### 加载资源\nproload函数是最先执行的，用来加载资源、create是初始化场景的函数，等proload执行完成后执行，update是更新函数，游戏每一帧都要执行update；\n\n```javascrpt\n    function state() {\n        //加载资源\n        this.preload = function () {\n            // load img and 精灵\n            game.load.image(\"sky\", 'assets/sky.png');\n            game.load.image(\"platform\", 'assets/platform.png');\n            game.load.image(\"star\", 'assets/star.png');\n            game.load.spritesheet('dude', \"assets/dude.png\", 32, 48);\n        }\n    }\n```\n使用方法为:\ngame.load.'资源'('别名','路径')；\n常用的资源有：image、audio、tilemap、text、spritesheet；\n别名指后面用的名称；\n其中spritesheet还需要添加每帧的宽高帧数等。\n\n### 初始界面\n资源加载完成后，会自动进入create函数\n```javascript\n this.create = function () {\n     game.add.sprite(0,0,'sky')\n }\n```\nsprite对象，也叫精灵，可以用图片来创建精灵，然后用phaser提供的属性，来操作。\n```javascript\n    game.add.sprite(0,0,'sky')\n```\n创建后，会自动添加对应的内容在主界面。\n说一个比较重要的对象：Phaser.group(),也就是组，相当于一个统一一个父容器，把需要的子对象放进去，然后可以通过组的方法进行批量的操作，比如统一的位移和碰撞检测等。\n```javascript\n    platforms = game.add.group();\n\n    var ground = platforms.create(0,0,'platform');\n\n    var ledge = platforms.create(400,200,'platform');\n\n```\n\n### 物理引擎\nPhaser已支持一些不同的物理系统，有Arcade Physics,，Ninja Physics 和 P2.JS Full-Body Physics。对与简单的物理方法，我们使用Arcade Physics即可。\n物理引擎在Phaser中是默认关闭的，要启用可以在create中使用：\n```javascript\n    game.physics.startSystem(Phaser.Physics.ARCADE);\n```\n要启用整组的物理属性，使用enableBody即可\n```javascript\n     platforms.enableBody = true;\n```\n开启物理属性后，即可得到一个body属性，所有的物理属性方法都挂在body上面\n常用的属性有：\nimmovable、bounce、gravity、drag、sprite、x、y、collideWorldBounds、input等，对应各种固定，弹性、重力，拖拽，边界等。\n\n```javascript\nground.body.immovable = true;\nlegs.body.immovable = true;\n```\n\n```\n    player.animations.add('left', [0, 1, 2, 3], 10, true);\n    player.animations.add('right', [5, 6, 7, 8], 10, true);\n```\nTileSprite、Rope、Image、Button、Sprite等拥有animations属性，可以添加动画方法\n```\nPhaser.Sprite.animations.add(name, frames, frameRate, loop, useNumericIndex)\n```\n分别为动画名称，帧数数组，每秒帧数，循环次数；\n\n### 添加文字\n```javascript\ngame.add.text(10,10,'score:0',{ font: \"35px Arial\", fill: \"#ff0044\"})\n```\n//Phaser.Game.add.text(x, y, text, style, group);\n如果你经常使用canvas的话，对这种应该不陌生，分别为：x、y、文字内容，样式组。\n\n这样我们基本完成了create函数的内容：\n```javascript\nthis.create=function () {\n        //开启物理引擎\n        game.physics.startSystem(Phaser.Physics.ARCADE);\n        //添加天空\n        game.add.sprite(0, 0, 'sky');\n        //添加地板组\n        platforms = game.add.group();\n        //开启地板组的物理属性\n        platforms.enableBody = true;\n        //添加底部地板\n        var grounds = platforms.create(0,game.world.height-32,'platform');\n        //设置缩放\n        grounds.scale.setTo(2,1);\n        //禁止移动\n        grounds.body.immovable = true;\n\n        var legs = platforms.create(-150,120,'platform');\n        legs.body.immovable = true;\n\n        legs = platforms.create(400,270,'platform');\n        legs.body.immovable = true;\n\n\n        //添加人物\n        player = game.add.sprite(32, 150, 'dude');\n        game.physics.arcade.enable(player);\n\n        player.body.bounce.y = 0.3;\n        player.body.gravity.y = 500;\n        player.body.collideWorldBounds = true;\n\n        player.animations.add('left', [0, 1, 2, 3], 10, true);\n        player.animations.add('right', [5, 6, 7, 8], 10, true);\n\n        cursors = game.input.keyboard.createCursorKeys();\n\n        //添加文字\n        fonts = game.add.text(10,10,'score:0',{ font: \"35px Arial\", fill: \"#ff0044\"})\n        //添加星星\n        stars = game.add.group();\n        stars.enableBody = true;\n        for(var i =0;i<12;i++){\n           var star = stars.create(i * 70 , 0, 'star');\n           star.body.bounce.y = 0.7;\n           star.body.gravity.y = 400;\n           star.body.collideWorldBounds = true;\n        }\n    }\n```","slug":"Phaser游戏开发","published":1,"updated":"2018-05-02T09:06:55.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8s0008qts9rd9u5ovz","content":"<p>最近开发基于微信分享的h5小游戏，之前试用createJs，觉得想换个游戏引擎试试，所以找到了Phaser，基于pixi，内置了物理引擎，动画等。</p>\n<h3 id=\"初始化\"><a href=\"#初始化\" class=\"headerlink\" title=\"初始化\"></a>初始化</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> game = <span class=\"keyword\">new</span> Phaser.Game(<span class=\"number\">288</span>,<span class=\"number\">505</span>,Phaser.AUTO,<span class=\"string\">'game'</span>,state); </span><br><span class=\"line\"><span class=\"keyword\">var</span> game = <span class=\"keyword\">new</span> Phaser.Game(<span class=\"number\">288</span>,<span class=\"number\">505</span>,Phaser.AUTO,<span class=\"string\">'game'</span>,&#123;<span class=\"attr\">proload</span>:proload,<span class=\"attr\">create</span>:create&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">Phaser.Game(width, height, renderer, parent, state, transparent, antialias, physicsConfig)</span><br><span class=\"line\">width: 游戏场景的宽度，单位为px</span><br><span class=\"line\">height: 高度，</span><br><span class=\"line\">renderer: 渲染方式，有Phaser.CANVAS，Phaser.WebGL，Phaser.AUTO，auto是自动识别</span><br><span class=\"line\">parent: 用来放置canvas元素的父元素，可以是一个元素id，也可以是dom元素本身，phaser会自动创建一个canvas并插入到这个元素中</span><br><span class=\"line\">state: 场景，通常会有（init，proload，create，update等）</span><br></pre></td></tr></table></figure>\n<p>state 是一个场景，可以是一个对象，也可以是一个构造函数，只要存在proload、create、update中的一个，就是一个合法的state；</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//state可以是一个自定义对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state1 = &#123;</span><br><span class=\"line\">    preload : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;,</span><br><span class=\"line\">    create : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;,</span><br><span class=\"line\">    update : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state也可以是一个构造函数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.preload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.create = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.update = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//state里面可以存在其他的方法，和属性</span></span><br><span class=\"line\"><span class=\"comment\">//state里面只要存一个proload、create、update中一个即可</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state3 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.aaa = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.bbb = <span class=\"string\">'first'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.create=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"加载资源\"><a href=\"#加载资源\" class=\"headerlink\" title=\"加载资源\"></a>加载资源</h3><p>proload函数是最先执行的，用来加载资源、create是初始化场景的函数，等proload执行完成后执行，update是更新函数，游戏每一帧都要执行update；</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function state() &#123;</span><br><span class=\"line\">    //加载资源</span><br><span class=\"line\">    this.preload = function () &#123;</span><br><span class=\"line\">        // load img and 精灵</span><br><span class=\"line\">        game.load.image(&quot;sky&quot;, &apos;assets/sky.png&apos;);</span><br><span class=\"line\">        game.load.image(&quot;platform&quot;, &apos;assets/platform.png&apos;);</span><br><span class=\"line\">        game.load.image(&quot;star&quot;, &apos;assets/star.png&apos;);</span><br><span class=\"line\">        game.load.spritesheet(&apos;dude&apos;, &quot;assets/dude.png&quot;, 32, 48);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>使用方法为:<br>game.load.’资源’(‘别名’,’路径’)；<br>常用的资源有：image、audio、tilemap、text、spritesheet；<br>别名指后面用的名称；<br>其中spritesheet还需要添加每帧的宽高帧数等。</p>\n<h3 id=\"初始界面\"><a href=\"#初始界面\" class=\"headerlink\" title=\"初始界面\"></a>初始界面</h3><p>资源加载完成后，会自动进入create函数<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.create = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    game.add.sprite(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'sky'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>sprite对象，也叫精灵，可以用图片来创建精灵，然后用phaser提供的属性，来操作。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.add.sprite(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'sky'</span>)</span><br></pre></td></tr></table></figure></p>\n<p>创建后，会自动添加对应的内容在主界面。<br>说一个比较重要的对象：Phaser.group(),也就是组，相当于一个统一一个父容器，把需要的子对象放进去，然后可以通过组的方法进行批量的操作，比如统一的位移和碰撞检测等。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">platforms = game.add.group();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ground = platforms.create(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ledge = platforms.create(<span class=\"number\">400</span>,<span class=\"number\">200</span>,<span class=\"string\">'platform'</span>);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"物理引擎\"><a href=\"#物理引擎\" class=\"headerlink\" title=\"物理引擎\"></a>物理引擎</h3><p>Phaser已支持一些不同的物理系统，有Arcade Physics,，Ninja Physics 和 P2.JS Full-Body Physics。对与简单的物理方法，我们使用Arcade Physics即可。<br>物理引擎在Phaser中是默认关闭的，要启用可以在create中使用：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.startSystem(Phaser.Physics.ARCADE);</span><br></pre></td></tr></table></figure></p>\n<p>要启用整组的物理属性，使用enableBody即可<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">platforms.enableBody = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure></p>\n<p>开启物理属性后，即可得到一个body属性，所有的物理属性方法都挂在body上面<br>常用的属性有：<br>immovable、bounce、gravity、drag、sprite、x、y、collideWorldBounds、input等，对应各种固定，弹性、重力，拖拽，边界等。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ground.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">legs.body.immovable = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">player.animations.add(&apos;left&apos;, [0, 1, 2, 3], 10, true);</span><br><span class=\"line\">player.animations.add(&apos;right&apos;, [5, 6, 7, 8], 10, true);</span><br></pre></td></tr></table></figure>\n<p>TileSprite、Rope、Image、Button、Sprite等拥有animations属性，可以添加动画方法<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Phaser.Sprite.animations.add(name, frames, frameRate, loop, useNumericIndex)</span><br></pre></td></tr></table></figure></p>\n<p>分别为动画名称，帧数数组，每秒帧数，循环次数；</p>\n<h3 id=\"添加文字\"><a href=\"#添加文字\" class=\"headerlink\" title=\"添加文字\"></a>添加文字</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.add.text(<span class=\"number\">10</span>,<span class=\"number\">10</span>,<span class=\"string\">'score:0'</span>,&#123; <span class=\"attr\">font</span>: <span class=\"string\">\"35px Arial\"</span>, <span class=\"attr\">fill</span>: <span class=\"string\">\"#ff0044\"</span>&#125;)</span><br></pre></td></tr></table></figure>\n<p>//Phaser.Game.add.text(x, y, text, style, group);<br>如果你经常使用canvas的话，对这种应该不陌生，分别为：x、y、文字内容，样式组。</p>\n<p>这样我们基本完成了create函数的内容：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.create=<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//开启物理引擎</span></span><br><span class=\"line\">        game.physics.startSystem(Phaser.Physics.ARCADE);</span><br><span class=\"line\">        <span class=\"comment\">//添加天空</span></span><br><span class=\"line\">        game.add.sprite(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">'sky'</span>);</span><br><span class=\"line\">        <span class=\"comment\">//添加地板组</span></span><br><span class=\"line\">        platforms = game.add.group();</span><br><span class=\"line\">        <span class=\"comment\">//开启地板组的物理属性</span></span><br><span class=\"line\">        platforms.enableBody = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">//添加底部地板</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> grounds = platforms.create(<span class=\"number\">0</span>,game.world.height<span class=\"number\">-32</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        <span class=\"comment\">//设置缩放</span></span><br><span class=\"line\">        grounds.scale.setTo(<span class=\"number\">2</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"comment\">//禁止移动</span></span><br><span class=\"line\">        grounds.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> legs = platforms.create(<span class=\"number\">-150</span>,<span class=\"number\">120</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        legs.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        legs = platforms.create(<span class=\"number\">400</span>,<span class=\"number\">270</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        legs.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//添加人物</span></span><br><span class=\"line\">        player = game.add.sprite(<span class=\"number\">32</span>, <span class=\"number\">150</span>, <span class=\"string\">'dude'</span>);</span><br><span class=\"line\">        game.physics.arcade.enable(player);</span><br><span class=\"line\"></span><br><span class=\"line\">        player.body.bounce.y = <span class=\"number\">0.3</span>;</span><br><span class=\"line\">        player.body.gravity.y = <span class=\"number\">500</span>;</span><br><span class=\"line\">        player.body.collideWorldBounds = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        player.animations.add(<span class=\"string\">'left'</span>, [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>], <span class=\"number\">10</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        player.animations.add(<span class=\"string\">'right'</span>, [<span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>], <span class=\"number\">10</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        cursors = game.input.keyboard.createCursorKeys();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//添加文字</span></span><br><span class=\"line\">        fonts = game.add.text(<span class=\"number\">10</span>,<span class=\"number\">10</span>,<span class=\"string\">'score:0'</span>,&#123; <span class=\"attr\">font</span>: <span class=\"string\">\"35px Arial\"</span>, <span class=\"attr\">fill</span>: <span class=\"string\">\"#ff0044\"</span>&#125;)</span><br><span class=\"line\">        <span class=\"comment\">//添加星星</span></span><br><span class=\"line\">        stars = game.add.group();</span><br><span class=\"line\">        stars.enableBody = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i =<span class=\"number\">0</span>;i&lt;<span class=\"number\">12</span>;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> star = stars.create(i * <span class=\"number\">70</span> , <span class=\"number\">0</span>, <span class=\"string\">'star'</span>);</span><br><span class=\"line\">           star.body.bounce.y = <span class=\"number\">0.7</span>;</span><br><span class=\"line\">           star.body.gravity.y = <span class=\"number\">400</span>;</span><br><span class=\"line\">           star.body.collideWorldBounds = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>最近开发基于微信分享的h5小游戏，之前试用createJs，觉得想换个游戏引擎试试，所以找到了Phaser，基于pixi，内置了物理引擎，动画等。</p>\n<h3 id=\"初始化\"><a href=\"#初始化\" class=\"headerlink\" title=\"初始化\"></a>初始化</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> game = <span class=\"keyword\">new</span> Phaser.Game(<span class=\"number\">288</span>,<span class=\"number\">505</span>,Phaser.AUTO,<span class=\"string\">'game'</span>,state); </span><br><span class=\"line\"><span class=\"keyword\">var</span> game = <span class=\"keyword\">new</span> Phaser.Game(<span class=\"number\">288</span>,<span class=\"number\">505</span>,Phaser.AUTO,<span class=\"string\">'game'</span>,&#123;<span class=\"attr\">proload</span>:proload,<span class=\"attr\">create</span>:create&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">Phaser.Game(width, height, renderer, parent, state, transparent, antialias, physicsConfig)</span><br><span class=\"line\">width: 游戏场景的宽度，单位为px</span><br><span class=\"line\">height: 高度，</span><br><span class=\"line\">renderer: 渲染方式，有Phaser.CANVAS，Phaser.WebGL，Phaser.AUTO，auto是自动识别</span><br><span class=\"line\">parent: 用来放置canvas元素的父元素，可以是一个元素id，也可以是dom元素本身，phaser会自动创建一个canvas并插入到这个元素中</span><br><span class=\"line\">state: 场景，通常会有（init，proload，create，update等）</span><br></pre></td></tr></table></figure>\n<p>state 是一个场景，可以是一个对象，也可以是一个构造函数，只要存在proload、create、update中的一个，就是一个合法的state；</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//state可以是一个自定义对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state1 = &#123;</span><br><span class=\"line\">    preload : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;,</span><br><span class=\"line\">    create : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;,</span><br><span class=\"line\">    update : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//state也可以是一个构造函数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.preload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.create = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.update = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123; &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//state里面可以存在其他的方法，和属性</span></span><br><span class=\"line\"><span class=\"comment\">//state里面只要存一个proload、create、update中一个即可</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state3 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.aaa = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.bbb = <span class=\"string\">'first'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.create=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"加载资源\"><a href=\"#加载资源\" class=\"headerlink\" title=\"加载资源\"></a>加载资源</h3><p>proload函数是最先执行的，用来加载资源、create是初始化场景的函数，等proload执行完成后执行，update是更新函数，游戏每一帧都要执行update；</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function state() &#123;</span><br><span class=\"line\">    //加载资源</span><br><span class=\"line\">    this.preload = function () &#123;</span><br><span class=\"line\">        // load img and 精灵</span><br><span class=\"line\">        game.load.image(&quot;sky&quot;, &apos;assets/sky.png&apos;);</span><br><span class=\"line\">        game.load.image(&quot;platform&quot;, &apos;assets/platform.png&apos;);</span><br><span class=\"line\">        game.load.image(&quot;star&quot;, &apos;assets/star.png&apos;);</span><br><span class=\"line\">        game.load.spritesheet(&apos;dude&apos;, &quot;assets/dude.png&quot;, 32, 48);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>使用方法为:<br>game.load.’资源’(‘别名’,’路径’)；<br>常用的资源有：image、audio、tilemap、text、spritesheet；<br>别名指后面用的名称；<br>其中spritesheet还需要添加每帧的宽高帧数等。</p>\n<h3 id=\"初始界面\"><a href=\"#初始界面\" class=\"headerlink\" title=\"初始界面\"></a>初始界面</h3><p>资源加载完成后，会自动进入create函数<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.create = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    game.add.sprite(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'sky'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>sprite对象，也叫精灵，可以用图片来创建精灵，然后用phaser提供的属性，来操作。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.add.sprite(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'sky'</span>)</span><br></pre></td></tr></table></figure></p>\n<p>创建后，会自动添加对应的内容在主界面。<br>说一个比较重要的对象：Phaser.group(),也就是组，相当于一个统一一个父容器，把需要的子对象放进去，然后可以通过组的方法进行批量的操作，比如统一的位移和碰撞检测等。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">platforms = game.add.group();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ground = platforms.create(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ledge = platforms.create(<span class=\"number\">400</span>,<span class=\"number\">200</span>,<span class=\"string\">'platform'</span>);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"物理引擎\"><a href=\"#物理引擎\" class=\"headerlink\" title=\"物理引擎\"></a>物理引擎</h3><p>Phaser已支持一些不同的物理系统，有Arcade Physics,，Ninja Physics 和 P2.JS Full-Body Physics。对与简单的物理方法，我们使用Arcade Physics即可。<br>物理引擎在Phaser中是默认关闭的，要启用可以在create中使用：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.startSystem(Phaser.Physics.ARCADE);</span><br></pre></td></tr></table></figure></p>\n<p>要启用整组的物理属性，使用enableBody即可<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">platforms.enableBody = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure></p>\n<p>开启物理属性后，即可得到一个body属性，所有的物理属性方法都挂在body上面<br>常用的属性有：<br>immovable、bounce、gravity、drag、sprite、x、y、collideWorldBounds、input等，对应各种固定，弹性、重力，拖拽，边界等。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ground.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">legs.body.immovable = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">player.animations.add(&apos;left&apos;, [0, 1, 2, 3], 10, true);</span><br><span class=\"line\">player.animations.add(&apos;right&apos;, [5, 6, 7, 8], 10, true);</span><br></pre></td></tr></table></figure>\n<p>TileSprite、Rope、Image、Button、Sprite等拥有animations属性，可以添加动画方法<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Phaser.Sprite.animations.add(name, frames, frameRate, loop, useNumericIndex)</span><br></pre></td></tr></table></figure></p>\n<p>分别为动画名称，帧数数组，每秒帧数，循环次数；</p>\n<h3 id=\"添加文字\"><a href=\"#添加文字\" class=\"headerlink\" title=\"添加文字\"></a>添加文字</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.add.text(<span class=\"number\">10</span>,<span class=\"number\">10</span>,<span class=\"string\">'score:0'</span>,&#123; <span class=\"attr\">font</span>: <span class=\"string\">\"35px Arial\"</span>, <span class=\"attr\">fill</span>: <span class=\"string\">\"#ff0044\"</span>&#125;)</span><br></pre></td></tr></table></figure>\n<p>//Phaser.Game.add.text(x, y, text, style, group);<br>如果你经常使用canvas的话，对这种应该不陌生，分别为：x、y、文字内容，样式组。</p>\n<p>这样我们基本完成了create函数的内容：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.create=<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//开启物理引擎</span></span><br><span class=\"line\">        game.physics.startSystem(Phaser.Physics.ARCADE);</span><br><span class=\"line\">        <span class=\"comment\">//添加天空</span></span><br><span class=\"line\">        game.add.sprite(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">'sky'</span>);</span><br><span class=\"line\">        <span class=\"comment\">//添加地板组</span></span><br><span class=\"line\">        platforms = game.add.group();</span><br><span class=\"line\">        <span class=\"comment\">//开启地板组的物理属性</span></span><br><span class=\"line\">        platforms.enableBody = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">//添加底部地板</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> grounds = platforms.create(<span class=\"number\">0</span>,game.world.height<span class=\"number\">-32</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        <span class=\"comment\">//设置缩放</span></span><br><span class=\"line\">        grounds.scale.setTo(<span class=\"number\">2</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"comment\">//禁止移动</span></span><br><span class=\"line\">        grounds.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> legs = platforms.create(<span class=\"number\">-150</span>,<span class=\"number\">120</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        legs.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        legs = platforms.create(<span class=\"number\">400</span>,<span class=\"number\">270</span>,<span class=\"string\">'platform'</span>);</span><br><span class=\"line\">        legs.body.immovable = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//添加人物</span></span><br><span class=\"line\">        player = game.add.sprite(<span class=\"number\">32</span>, <span class=\"number\">150</span>, <span class=\"string\">'dude'</span>);</span><br><span class=\"line\">        game.physics.arcade.enable(player);</span><br><span class=\"line\"></span><br><span class=\"line\">        player.body.bounce.y = <span class=\"number\">0.3</span>;</span><br><span class=\"line\">        player.body.gravity.y = <span class=\"number\">500</span>;</span><br><span class=\"line\">        player.body.collideWorldBounds = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        player.animations.add(<span class=\"string\">'left'</span>, [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>], <span class=\"number\">10</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        player.animations.add(<span class=\"string\">'right'</span>, [<span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>], <span class=\"number\">10</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        cursors = game.input.keyboard.createCursorKeys();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//添加文字</span></span><br><span class=\"line\">        fonts = game.add.text(<span class=\"number\">10</span>,<span class=\"number\">10</span>,<span class=\"string\">'score:0'</span>,&#123; <span class=\"attr\">font</span>: <span class=\"string\">\"35px Arial\"</span>, <span class=\"attr\">fill</span>: <span class=\"string\">\"#ff0044\"</span>&#125;)</span><br><span class=\"line\">        <span class=\"comment\">//添加星星</span></span><br><span class=\"line\">        stars = game.add.group();</span><br><span class=\"line\">        stars.enableBody = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i =<span class=\"number\">0</span>;i&lt;<span class=\"number\">12</span>;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> star = stars.create(i * <span class=\"number\">70</span> , <span class=\"number\">0</span>, <span class=\"string\">'star'</span>);</span><br><span class=\"line\">           star.body.bounce.y = <span class=\"number\">0.7</span>;</span><br><span class=\"line\">           star.body.gravity.y = <span class=\"number\">400</span>;</span><br><span class=\"line\">           star.body.collideWorldBounds = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"antd中表单自定义组件如何获取值","subtitle":"antd中表单自定义组件如何获取值","date":"2023-02-22T07:43:35.000Z","cover":"2018/04/27/登录/cover.jpg","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"页面中有大量的form表单，但是不是所有的自定义表单都能满足我们的需求，很有可能需要自定义组件去解决问题，那么自定义组件如何获取antd的value值呢？\n```javascript\nimport { Form, Input } from 'antd';\nimport { useEffect } from 'react';\n \nconst App = () => {\n  const [form]= Form.useForm();\n   \n  useEffect(() => {\n    form.setFieldsValue({\n      a: {\n        b: {\n          c: 'ccc'\n        }\n      },\n      d: {\n        e : 'eee'\n      }\n    })\n  }, []);\n \n  return (\n    <Form form={form}>\n      <Form.Item name={['d', 'e']}>\n        <Input/>\n      </Form.Item>\n    </Form>\n  )\n}\nexport default App;\n```\n\n这代码熟悉吧！是不是经常写？\n\n这是 antd 的 Form 组件的用法：\n\n通过 useForm 拿到 form 对象，设置到 Form 组件里，然后用 form.setFieldsValue 设置的字段值就能在 Form.Item 里取到。\n\nForm.Item 只需要在 name 里填写字段所在的路径就行，也就是 ['d', 'e'] 这个。\n\n有的同学可能会问了，为啥这里只设置了个 name，它下面的 Input 就有值了呢？\n\n我们让 Form.Item 渲染一个自定义的组件试一下，比如这样：\n\n```javascript\nconst MyInput = (props) =>{\n    return <div>\n    <Input>\n    </div>   \n}\n```\n\n```javascript\nreturn (\n  <Form form={form}>\n    <Form.Item name={['d', 'e']}>\n      <MyInput/>\n    </Form.Item>\n  </Form>\n)\n```\n通过给自定义组件打断点，可以看到，组件内部传入了 id、value、onChange 等参数进来，\n\n这就是为啥 Input 能有值，因为传入了 value 参数。\n\n而且变化了也能同步到 fields，因为传入了 onChange 参数。\n\n有的时候我们要对保存的值做一些修改，就可以这样写：\n\n```javascript\nfunction MyInput(props) {\n    const { value, onChange } = props;\n    console.log(form.getFieldsValue())\n    function onValueChange(event) {\n      onChange(event.target.value.toUpperCase());\n    }\n    return <Input value={value} onChange={onValueChange}></Input>\n}\n```\n所以说，Form.Item 会给子组件传入 value、onChange 参数用来设置值和接受值的改变，同步到 form 的 fields。\n\n以下是我个人经常使用的上传图片的组件：\n```javascript\nimport React, { useEffect, useState } from 'react'\nimport { message, Upload } from \"antd\";\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\n\nconst defaultUrl = \"\"\nconst imageURL = \"\"\n\n\nconst UploadImg = (props: any) => {\n  const {value, onChange} = props;\n  const [loading, setLoading] = useState(false);\n\n\n  const handleChange = (info: any) => {\n    if (info.file.status === \"uploading\") {\n      setLoading(true);\n      return;\n    }\n    if (info.file.status === \"done\") {\n      const url = info.file.response.data.url;\n      onChange && onChange(url);\n      setLoading(false);\n    }\n  };\n\n\n  const beforeUpload = (file: any) => {\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\n    if (!isJpgOrPng) {\n      message.error(\"只支持 JPG/PNG 文件!\");\n    }\n    const isLt2M = file.size / 1024 / 1024 < 5;\n    if (!isLt2M) {\n      message.error(\"图片必须小于5MB!\")\n    }\n    return isJpgOrPng && isLt2M;\n  };\n\n  return (\n      <Upload\n        name=\"file\"\n        // customRequest={customRequest}\n        listType=\"picture-card\"\n        className=\"avatar-uploader\"\n        showUploadList={false}\n        action={defaultUrl}\n        beforeUpload={beforeUpload}\n        onChange={handleChange}\n      >\n        {value ? (\n          <img src={imageURL + value} alt=\"avatar\" style={{ width: \"100%\" }} />\n        ) : (\n          <div>\n            {loading ? <LoadingOutlined /> : <PlusOutlined />}\n            <div style={{ marginTop: 8 }}>点击上传</div>\n          </div>\n        )}\n      </Upload>\n  )\n}\n\n\nexport default UploadImg\n```","source":"_posts/2023-02-22-表单自定义组件.md","raw":"---\ntitle: antd中表单自定义组件如何获取值\nsubtitle: antd中表单自定义组件如何获取值\ndate: 2023-02-22 15:43:35\ncover: 2018/04/27/登录/cover.jpg\ncategories: react开发\ntags:\n  - react开发\n  - Web开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n页面中有大量的form表单，但是不是所有的自定义表单都能满足我们的需求，很有可能需要自定义组件去解决问题，那么自定义组件如何获取antd的value值呢？\n```javascript\nimport { Form, Input } from 'antd';\nimport { useEffect } from 'react';\n \nconst App = () => {\n  const [form]= Form.useForm();\n   \n  useEffect(() => {\n    form.setFieldsValue({\n      a: {\n        b: {\n          c: 'ccc'\n        }\n      },\n      d: {\n        e : 'eee'\n      }\n    })\n  }, []);\n \n  return (\n    <Form form={form}>\n      <Form.Item name={['d', 'e']}>\n        <Input/>\n      </Form.Item>\n    </Form>\n  )\n}\nexport default App;\n```\n\n这代码熟悉吧！是不是经常写？\n\n这是 antd 的 Form 组件的用法：\n\n通过 useForm 拿到 form 对象，设置到 Form 组件里，然后用 form.setFieldsValue 设置的字段值就能在 Form.Item 里取到。\n\nForm.Item 只需要在 name 里填写字段所在的路径就行，也就是 ['d', 'e'] 这个。\n\n有的同学可能会问了，为啥这里只设置了个 name，它下面的 Input 就有值了呢？\n\n我们让 Form.Item 渲染一个自定义的组件试一下，比如这样：\n\n```javascript\nconst MyInput = (props) =>{\n    return <div>\n    <Input>\n    </div>   \n}\n```\n\n```javascript\nreturn (\n  <Form form={form}>\n    <Form.Item name={['d', 'e']}>\n      <MyInput/>\n    </Form.Item>\n  </Form>\n)\n```\n通过给自定义组件打断点，可以看到，组件内部传入了 id、value、onChange 等参数进来，\n\n这就是为啥 Input 能有值，因为传入了 value 参数。\n\n而且变化了也能同步到 fields，因为传入了 onChange 参数。\n\n有的时候我们要对保存的值做一些修改，就可以这样写：\n\n```javascript\nfunction MyInput(props) {\n    const { value, onChange } = props;\n    console.log(form.getFieldsValue())\n    function onValueChange(event) {\n      onChange(event.target.value.toUpperCase());\n    }\n    return <Input value={value} onChange={onValueChange}></Input>\n}\n```\n所以说，Form.Item 会给子组件传入 value、onChange 参数用来设置值和接受值的改变，同步到 form 的 fields。\n\n以下是我个人经常使用的上传图片的组件：\n```javascript\nimport React, { useEffect, useState } from 'react'\nimport { message, Upload } from \"antd\";\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\n\nconst defaultUrl = \"\"\nconst imageURL = \"\"\n\n\nconst UploadImg = (props: any) => {\n  const {value, onChange} = props;\n  const [loading, setLoading] = useState(false);\n\n\n  const handleChange = (info: any) => {\n    if (info.file.status === \"uploading\") {\n      setLoading(true);\n      return;\n    }\n    if (info.file.status === \"done\") {\n      const url = info.file.response.data.url;\n      onChange && onChange(url);\n      setLoading(false);\n    }\n  };\n\n\n  const beforeUpload = (file: any) => {\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\n    if (!isJpgOrPng) {\n      message.error(\"只支持 JPG/PNG 文件!\");\n    }\n    const isLt2M = file.size / 1024 / 1024 < 5;\n    if (!isLt2M) {\n      message.error(\"图片必须小于5MB!\")\n    }\n    return isJpgOrPng && isLt2M;\n  };\n\n  return (\n      <Upload\n        name=\"file\"\n        // customRequest={customRequest}\n        listType=\"picture-card\"\n        className=\"avatar-uploader\"\n        showUploadList={false}\n        action={defaultUrl}\n        beforeUpload={beforeUpload}\n        onChange={handleChange}\n      >\n        {value ? (\n          <img src={imageURL + value} alt=\"avatar\" style={{ width: \"100%\" }} />\n        ) : (\n          <div>\n            {loading ? <LoadingOutlined /> : <PlusOutlined />}\n            <div style={{ marginTop: 8 }}>点击上传</div>\n          </div>\n        )}\n      </Upload>\n  )\n}\n\n\nexport default UploadImg\n```","slug":"表单自定义组件","published":1,"updated":"2023-03-01T09:21:42.244Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8u000bqts9rhs110t7","content":"<p>页面中有大量的form表单，但是不是所有的自定义表单都能满足我们的需求，很有可能需要自定义组件去解决问题，那么自定义组件如何获取antd的value值呢？<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Form, Input &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useEffect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> App = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [form]= Form.useForm();</span><br><span class=\"line\">   </span><br><span class=\"line\">  useEffect(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    form.setFieldsValue(&#123;</span><br><span class=\"line\">      a: &#123;</span><br><span class=\"line\">        b: &#123;</span><br><span class=\"line\">          c: <span class=\"string\">'ccc'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      d: &#123;</span><br><span class=\"line\">        e : <span class=\"string\">'eee'</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;, []);</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    &lt;Form form=&#123;form&#125;&gt;</span><br><span class=\"line\">      &lt;Form.Item name=&#123;[<span class=\"string\">'d'</span>, <span class=\"string\">'e'</span>]&#125;&gt;</span><br><span class=\"line\">        &lt;Input/&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;/</span>Form&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure></p>\n<p>这代码熟悉吧！是不是经常写？</p>\n<p>这是 antd 的 Form 组件的用法：</p>\n<p>通过 useForm 拿到 form 对象，设置到 Form 组件里，然后用 form.setFieldsValue 设置的字段值就能在 Form.Item 里取到。</p>\n<p>Form.Item 只需要在 name 里填写字段所在的路径就行，也就是 [‘d’, ‘e’] 这个。</p>\n<p>有的同学可能会问了，为啥这里只设置了个 name，它下面的 Input 就有值了呢？</p>\n<p>我们让 Form.Item 渲染一个自定义的组件试一下，比如这样：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> MyInput = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &lt;div&gt;</span><br><span class=\"line\">    &lt;Input&gt;</span><br><span class=\"line\">    &lt;/div&gt;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> (</span><br><span class=\"line\">  &lt;Form form=&#123;form&#125;&gt;</span><br><span class=\"line\">    &lt;Form.Item name=&#123;[<span class=\"string\">'d'</span>, <span class=\"string\">'e'</span>]&#125;&gt;</span><br><span class=\"line\">      &lt;MyInput/&gt;</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;/</span>Form&gt;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>通过给自定义组件打断点，可以看到，组件内部传入了 id、value、onChange 等参数进来，</p>\n<p>这就是为啥 Input 能有值，因为传入了 value 参数。</p>\n<p>而且变化了也能同步到 fields，因为传入了 onChange 参数。</p>\n<p>有的时候我们要对保存的值做一些修改，就可以这样写：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyInput</span>(<span class=\"params\">props</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; value, onChange &#125; = props;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(form.getFieldsValue())</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onValueChange</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">      onChange(event.target.value.toUpperCase());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &lt;Input value=&#123;value&#125; onChange=&#123;onValueChange&#125;&gt;&lt;/Input&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>所以说，Form.Item 会给子组件传入 value、onChange 参数用来设置值和接受值的改变，同步到 form 的 fields。</p>\n<p>以下是我个人经常使用的上传图片的组件：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; useEffect, useState &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message, Upload &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"antd\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; LoadingOutlined, PlusOutlined &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"@ant-design/icons\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> defaultUrl = <span class=\"string\">\"\"</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> imageURL = <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UploadImg = <span class=\"function\">(<span class=\"params\">props: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123;value, onChange&#125; = props;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [loading, setLoading] = useState(<span class=\"literal\">false</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> handleChange = <span class=\"function\">(<span class=\"params\">info: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (info.file.status === <span class=\"string\">\"uploading\"</span>) &#123;</span><br><span class=\"line\">      setLoading(<span class=\"literal\">true</span>);</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (info.file.status === <span class=\"string\">\"done\"</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> url = info.file.response.data.url;</span><br><span class=\"line\">      onChange &amp;&amp; onChange(url);</span><br><span class=\"line\">      setLoading(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> beforeUpload = <span class=\"function\">(<span class=\"params\">file: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> isJpgOrPng = file.type === <span class=\"string\">\"image/jpeg\"</span> || file.type === <span class=\"string\">\"image/png\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isJpgOrPng) &#123;</span><br><span class=\"line\">      message.error(<span class=\"string\">\"只支持 JPG/PNG 文件!\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> isLt2M = file.size / <span class=\"number\">1024</span> / <span class=\"number\">1024</span> &lt; <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isLt2M) &#123;</span><br><span class=\"line\">      message.error(<span class=\"string\">\"图片必须小于5MB!\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> isJpgOrPng &amp;&amp; isLt2M;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;Upload</span><br><span class=\"line\">        name=<span class=\"string\">\"file\"</span></span><br><span class=\"line\">        <span class=\"comment\">// customRequest=&#123;customRequest&#125;</span></span><br><span class=\"line\">        listType=<span class=\"string\">\"picture-card\"</span></span><br><span class=\"line\">        className=<span class=\"string\">\"avatar-uploader\"</span></span><br><span class=\"line\">        showUploadList=&#123;<span class=\"literal\">false</span>&#125;</span><br><span class=\"line\">        action=&#123;defaultUrl&#125;</span><br><span class=\"line\">        beforeUpload=&#123;beforeUpload&#125;</span><br><span class=\"line\">        onChange=&#123;handleChange&#125;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &#123;value ? (</span><br><span class=\"line\">          &lt;img src=&#123;imageURL + value&#125; alt=<span class=\"string\">\"avatar\"</span> style=&#123;&#123; <span class=\"attr\">width</span>: <span class=\"string\">\"100%\"</span> &#125;&#125; /&gt;</span><br><span class=\"line\">        ) : (</span><br><span class=\"line\">          &lt;div&gt;</span><br><span class=\"line\">            &#123;loading ? &lt;LoadingOutlined /&gt; : &lt;PlusOutlined /&gt;&#125;</span><br><span class=\"line\">            &lt;div style=&#123;&#123; <span class=\"attr\">marginTop</span>: <span class=\"number\">8</span> &#125;&#125;&gt;点击上传&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>div&gt;</span><br><span class=\"line\">        )&#125;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Upload&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  )</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default UploadImg</span></span><br></pre></td></tr></table></figure></p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>页面中有大量的form表单，但是不是所有的自定义表单都能满足我们的需求，很有可能需要自定义组件去解决问题，那么自定义组件如何获取antd的value值呢？<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Form, Input &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; useEffect &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> App = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [form]= Form.useForm();</span><br><span class=\"line\">   </span><br><span class=\"line\">  useEffect(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    form.setFieldsValue(&#123;</span><br><span class=\"line\">      a: &#123;</span><br><span class=\"line\">        b: &#123;</span><br><span class=\"line\">          c: <span class=\"string\">'ccc'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      d: &#123;</span><br><span class=\"line\">        e : <span class=\"string\">'eee'</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;, []);</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    &lt;Form form=&#123;form&#125;&gt;</span><br><span class=\"line\">      &lt;Form.Item name=&#123;[<span class=\"string\">'d'</span>, <span class=\"string\">'e'</span>]&#125;&gt;</span><br><span class=\"line\">        &lt;Input/&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;/</span>Form&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure></p>\n<p>这代码熟悉吧！是不是经常写？</p>\n<p>这是 antd 的 Form 组件的用法：</p>\n<p>通过 useForm 拿到 form 对象，设置到 Form 组件里，然后用 form.setFieldsValue 设置的字段值就能在 Form.Item 里取到。</p>\n<p>Form.Item 只需要在 name 里填写字段所在的路径就行，也就是 [‘d’, ‘e’] 这个。</p>\n<p>有的同学可能会问了，为啥这里只设置了个 name，它下面的 Input 就有值了呢？</p>\n<p>我们让 Form.Item 渲染一个自定义的组件试一下，比如这样：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> MyInput = <span class=\"function\">(<span class=\"params\">props</span>) =&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &lt;div&gt;</span><br><span class=\"line\">    &lt;Input&gt;</span><br><span class=\"line\">    &lt;/div&gt;   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> (</span><br><span class=\"line\">  &lt;Form form=&#123;form&#125;&gt;</span><br><span class=\"line\">    &lt;Form.Item name=&#123;[<span class=\"string\">'d'</span>, <span class=\"string\">'e'</span>]&#125;&gt;</span><br><span class=\"line\">      &lt;MyInput/&gt;</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;/</span>Form&gt;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>通过给自定义组件打断点，可以看到，组件内部传入了 id、value、onChange 等参数进来，</p>\n<p>这就是为啥 Input 能有值，因为传入了 value 参数。</p>\n<p>而且变化了也能同步到 fields，因为传入了 onChange 参数。</p>\n<p>有的时候我们要对保存的值做一些修改，就可以这样写：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyInput</span>(<span class=\"params\">props</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; value, onChange &#125; = props;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(form.getFieldsValue())</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onValueChange</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">      onChange(event.target.value.toUpperCase());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &lt;Input value=&#123;value&#125; onChange=&#123;onValueChange&#125;&gt;&lt;/Input&gt;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>所以说，Form.Item 会给子组件传入 value、onChange 参数用来设置值和接受值的改变，同步到 form 的 fields。</p>\n<p>以下是我个人经常使用的上传图片的组件：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; useEffect, useState &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message, Upload &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"antd\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; LoadingOutlined, PlusOutlined &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"@ant-design/icons\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> defaultUrl = <span class=\"string\">\"\"</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> imageURL = <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UploadImg = <span class=\"function\">(<span class=\"params\">props: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123;value, onChange&#125; = props;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [loading, setLoading] = useState(<span class=\"literal\">false</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> handleChange = <span class=\"function\">(<span class=\"params\">info: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (info.file.status === <span class=\"string\">\"uploading\"</span>) &#123;</span><br><span class=\"line\">      setLoading(<span class=\"literal\">true</span>);</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (info.file.status === <span class=\"string\">\"done\"</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> url = info.file.response.data.url;</span><br><span class=\"line\">      onChange &amp;&amp; onChange(url);</span><br><span class=\"line\">      setLoading(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> beforeUpload = <span class=\"function\">(<span class=\"params\">file: any</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> isJpgOrPng = file.type === <span class=\"string\">\"image/jpeg\"</span> || file.type === <span class=\"string\">\"image/png\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isJpgOrPng) &#123;</span><br><span class=\"line\">      message.error(<span class=\"string\">\"只支持 JPG/PNG 文件!\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> isLt2M = file.size / <span class=\"number\">1024</span> / <span class=\"number\">1024</span> &lt; <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isLt2M) &#123;</span><br><span class=\"line\">      message.error(<span class=\"string\">\"图片必须小于5MB!\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> isJpgOrPng &amp;&amp; isLt2M;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;Upload</span><br><span class=\"line\">        name=<span class=\"string\">\"file\"</span></span><br><span class=\"line\">        <span class=\"comment\">// customRequest=&#123;customRequest&#125;</span></span><br><span class=\"line\">        listType=<span class=\"string\">\"picture-card\"</span></span><br><span class=\"line\">        className=<span class=\"string\">\"avatar-uploader\"</span></span><br><span class=\"line\">        showUploadList=&#123;<span class=\"literal\">false</span>&#125;</span><br><span class=\"line\">        action=&#123;defaultUrl&#125;</span><br><span class=\"line\">        beforeUpload=&#123;beforeUpload&#125;</span><br><span class=\"line\">        onChange=&#123;handleChange&#125;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &#123;value ? (</span><br><span class=\"line\">          &lt;img src=&#123;imageURL + value&#125; alt=<span class=\"string\">\"avatar\"</span> style=&#123;&#123; <span class=\"attr\">width</span>: <span class=\"string\">\"100%\"</span> &#125;&#125; /&gt;</span><br><span class=\"line\">        ) : (</span><br><span class=\"line\">          &lt;div&gt;</span><br><span class=\"line\">            &#123;loading ? &lt;LoadingOutlined /&gt; : &lt;PlusOutlined /&gt;&#125;</span><br><span class=\"line\">            &lt;div style=&#123;&#123; <span class=\"attr\">marginTop</span>: <span class=\"number\">8</span> &#125;&#125;&gt;点击上传&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>div&gt;</span><br><span class=\"line\">        )&#125;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Upload&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  )</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default UploadImg</span></span><br></pre></td></tr></table></figure></p>\n"},{"title":"Phaser游戏开发2","subtitle":"Phaser游戏开发2","date":"2018-05-03T07:45:09.000Z","cover":"2018/04/27/登录/cover.jpg","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"\nPhaser游戏开发2；\n\n上面的代码已经完成了80%的内容，下面让我们来继续完善游戏内容；\n\n### 碰撞检测\n```javascript\n    game.physics.arcade.collide(player, platforms);\n```\nPhaser.Physics.arcade.collide(object1, object2, collideCallback, processCallback, callbackContext)\n\n参数分别为，对象1，对象2，碰撞回调函数，比如有的关卡，有陷阱一类的，人物要是碰撞后，在回调中kill人物，state跳到over上。\n\n### 重叠检测\n跟碰撞类似，只是api不同\n```javascript\n    game.physics.arcade.overlap(player, platforms);\n```\nPhaser.Physics.arcade.overlap(object1, object2, collideCallback, processCallback, callbackContext)\n\n多用在获得道具上，比如人物和星星重叠后，可以加分，然后消除星星。\n\n```javascript\n        game.physics.arcade.overlap(player,stars,function (player,star) {\n           scroe += 10;\n           fonts.text = 'scroe: ' + scroe;\n           star.kill();\n        })\n```\n\n### 上下左右操作\n\n```\ncursors = game.input.keyboard.createCursorKeys();\n```\nPhaser.Game.input.keyboard.createCursorKeys()\n\n```javascript\n        if(cursors.left.isDown){\n            player.body.velocity.x = -150;\n            player.animations.play('left');\n        }else if(cursors.right.isDown){\n            player.body.velocity.x = 150;\n            player.animations.play('right');\n        }else{\n            player.frame = 4;\n            player.body.velocity.x = 0;\n            player.animations.stop();\n        }\n```\n当按下键盘 <- 左键时，x轴加速为-150，然后执行animations的left动画，有一点是需要注意的是，在没有按下左右键的时候，让frame定格在第4帧，\n```js\nplayer.frame = 4;\n```\n\n以下为全部代码：\nPhaser 小游戏[About](/2018/05/03/Phaser游戏开发2/phaser1.zip)。","source":"_posts/2018-05-03-Phaser游戏开发2.md","raw":"---\ntitle: Phaser游戏开发2\nsubtitle: Phaser游戏开发2\ndate: 2018-05-03 15:45:09\ncover: 2018/04/27/登录/cover.jpg\ncategories: 游戏开发\ntags:\n  - Phaser\n  - 游戏开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n\nPhaser游戏开发2；\n\n上面的代码已经完成了80%的内容，下面让我们来继续完善游戏内容；\n\n### 碰撞检测\n```javascript\n    game.physics.arcade.collide(player, platforms);\n```\nPhaser.Physics.arcade.collide(object1, object2, collideCallback, processCallback, callbackContext)\n\n参数分别为，对象1，对象2，碰撞回调函数，比如有的关卡，有陷阱一类的，人物要是碰撞后，在回调中kill人物，state跳到over上。\n\n### 重叠检测\n跟碰撞类似，只是api不同\n```javascript\n    game.physics.arcade.overlap(player, platforms);\n```\nPhaser.Physics.arcade.overlap(object1, object2, collideCallback, processCallback, callbackContext)\n\n多用在获得道具上，比如人物和星星重叠后，可以加分，然后消除星星。\n\n```javascript\n        game.physics.arcade.overlap(player,stars,function (player,star) {\n           scroe += 10;\n           fonts.text = 'scroe: ' + scroe;\n           star.kill();\n        })\n```\n\n### 上下左右操作\n\n```\ncursors = game.input.keyboard.createCursorKeys();\n```\nPhaser.Game.input.keyboard.createCursorKeys()\n\n```javascript\n        if(cursors.left.isDown){\n            player.body.velocity.x = -150;\n            player.animations.play('left');\n        }else if(cursors.right.isDown){\n            player.body.velocity.x = 150;\n            player.animations.play('right');\n        }else{\n            player.frame = 4;\n            player.body.velocity.x = 0;\n            player.animations.stop();\n        }\n```\n当按下键盘 <- 左键时，x轴加速为-150，然后执行animations的left动画，有一点是需要注意的是，在没有按下左右键的时候，让frame定格在第4帧，\n```js\nplayer.frame = 4;\n```\n\n以下为全部代码：\nPhaser 小游戏[About](/2018/05/03/Phaser游戏开发2/phaser1.zip)。","slug":"Phaser游戏开发2","published":1,"updated":"2018-05-03T08:47:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8y000cqts93r804pgo","content":"<p>Phaser游戏开发2；</p>\n<p>上面的代码已经完成了80%的内容，下面让我们来继续完善游戏内容；</p>\n<h3 id=\"碰撞检测\"><a href=\"#碰撞检测\" class=\"headerlink\" title=\"碰撞检测\"></a>碰撞检测</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.collide(player, platforms);</span><br></pre></td></tr></table></figure>\n<p>Phaser.Physics.arcade.collide(object1, object2, collideCallback, processCallback, callbackContext)</p>\n<p>参数分别为，对象1，对象2，碰撞回调函数，比如有的关卡，有陷阱一类的，人物要是碰撞后，在回调中kill人物，state跳到over上。</p>\n<h3 id=\"重叠检测\"><a href=\"#重叠检测\" class=\"headerlink\" title=\"重叠检测\"></a>重叠检测</h3><p>跟碰撞类似，只是api不同<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.overlap(player, platforms);</span><br></pre></td></tr></table></figure></p>\n<p>Phaser.Physics.arcade.overlap(object1, object2, collideCallback, processCallback, callbackContext)</p>\n<p>多用在获得道具上，比如人物和星星重叠后，可以加分，然后消除星星。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.overlap(player,stars,<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">player,star</span>) </span>&#123;</span><br><span class=\"line\">   scroe += <span class=\"number\">10</span>;</span><br><span class=\"line\">   fonts.text = <span class=\"string\">'scroe: '</span> + scroe;</span><br><span class=\"line\">   star.kill();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"上下左右操作\"><a href=\"#上下左右操作\" class=\"headerlink\" title=\"上下左右操作\"></a>上下左右操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cursors = game.input.keyboard.createCursorKeys();</span><br></pre></td></tr></table></figure>\n<p>Phaser.Game.input.keyboard.createCursorKeys()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(cursors.left.isDown)&#123;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">-150</span>;</span><br><span class=\"line\">    player.animations.play(<span class=\"string\">'left'</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(cursors.right.isDown)&#123;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">150</span>;</span><br><span class=\"line\">    player.animations.play(<span class=\"string\">'right'</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    player.frame = <span class=\"number\">4</span>;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">0</span>;</span><br><span class=\"line\">    player.animations.stop();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>当按下键盘 &lt;- 左键时，x轴加速为-150，然后执行animations的left动画，有一点是需要注意的是，在没有按下左右键的时候，让frame定格在第4帧，<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">player.frame = <span class=\"number\">4</span>;</span><br></pre></td></tr></table></figure></p>\n<p>以下为全部代码：<br>Phaser 小游戏<a href=\"/2018/05/03/Phaser游戏开发2/phaser1.zip\">About</a>。</p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>Phaser游戏开发2；</p>\n<p>上面的代码已经完成了80%的内容，下面让我们来继续完善游戏内容；</p>\n<h3 id=\"碰撞检测\"><a href=\"#碰撞检测\" class=\"headerlink\" title=\"碰撞检测\"></a>碰撞检测</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.collide(player, platforms);</span><br></pre></td></tr></table></figure>\n<p>Phaser.Physics.arcade.collide(object1, object2, collideCallback, processCallback, callbackContext)</p>\n<p>参数分别为，对象1，对象2，碰撞回调函数，比如有的关卡，有陷阱一类的，人物要是碰撞后，在回调中kill人物，state跳到over上。</p>\n<h3 id=\"重叠检测\"><a href=\"#重叠检测\" class=\"headerlink\" title=\"重叠检测\"></a>重叠检测</h3><p>跟碰撞类似，只是api不同<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.overlap(player, platforms);</span><br></pre></td></tr></table></figure></p>\n<p>Phaser.Physics.arcade.overlap(object1, object2, collideCallback, processCallback, callbackContext)</p>\n<p>多用在获得道具上，比如人物和星星重叠后，可以加分，然后消除星星。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">game.physics.arcade.overlap(player,stars,<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">player,star</span>) </span>&#123;</span><br><span class=\"line\">   scroe += <span class=\"number\">10</span>;</span><br><span class=\"line\">   fonts.text = <span class=\"string\">'scroe: '</span> + scroe;</span><br><span class=\"line\">   star.kill();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"上下左右操作\"><a href=\"#上下左右操作\" class=\"headerlink\" title=\"上下左右操作\"></a>上下左右操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cursors = game.input.keyboard.createCursorKeys();</span><br></pre></td></tr></table></figure>\n<p>Phaser.Game.input.keyboard.createCursorKeys()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(cursors.left.isDown)&#123;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">-150</span>;</span><br><span class=\"line\">    player.animations.play(<span class=\"string\">'left'</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(cursors.right.isDown)&#123;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">150</span>;</span><br><span class=\"line\">    player.animations.play(<span class=\"string\">'right'</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    player.frame = <span class=\"number\">4</span>;</span><br><span class=\"line\">    player.body.velocity.x = <span class=\"number\">0</span>;</span><br><span class=\"line\">    player.animations.stop();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>当按下键盘 &lt;- 左键时，x轴加速为-150，然后执行animations的left动画，有一点是需要注意的是，在没有按下左右键的时候，让frame定格在第4帧，<br><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">player.frame = <span class=\"number\">4</span>;</span><br></pre></td></tr></table></figure></p>\n<p>以下为全部代码：<br>Phaser 小游戏<a href=\"/2018/05/03/Phaser游戏开发2/phaser1.zip\">About</a>。</p>\n"},{"title":"聊聊前端优化","subtitle":"从速度性能、稳定性、响应式、兼容性、搜索SEO等方面聊聊前端相关的性能优化","date":"2023-02-24T07:43:35.000Z","cover":"2018/04/27/登录/cover.jpg","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"随着互联网技术的发展，网页已经不再是简单的静态文档，而是变成了功能丰富、交互复杂、视觉精美的应用程序。然而，这些应用程序也带来了一个挑战：如何在保证功能和体验的同时，让网页快速加载并运行？这就是前端性能优化要解决的问题。\n\n前端性能优化是一门综合性很强的学科，它涉及到网络、浏览器、JavaScript、CSS、HTML、图片等多个方面。为了达到最佳效果，我们需要从多个角度出发，采用各种技巧和工具来分析、测试、监控和改进网页的性能。\n\n本文旨在提供一份全面而实用的前端性能优化指南。（本段文字来自chatGPT生成）\n\n![image](yahoo.jpeg)\n以上来自雅虎优化指南，也叫[雅虎军规](https://developer.yahoo.com/performance/rules.html)。\n\n- ### 服务端篇\n\n  1. Content Delivery Network（CDN）\n\n     cdn具有能提高网站的访问速度、节省带宽等优势，其工作原理是通过将源站的内容缓存到分布在不同地区和运营商的边缘节点上，当用户请求时，就近返回节点上缓存的内容。cdn还涉及DNS解析、负载均衡、内容分发、调度等技术模块。\n\n  2. 浏览器缓存\n\n     缓存的设置可以大大提高响应速度，减少http请求，节省带宽等优势，缓存包括强缓存、协商缓存等，可以添加Expires头，配置ETag等属性来选择缓存的方式。当浏览器请求一个资源时，它会检测本地缓存中是否有该资源，并且是否在有效期内，如果是，则直接从本地缓存中返回该资源。\n\n     - 强缓存是利用HTTP请求头中的Expires和Cache-Control 两个字段来进行控制，用来表示资源的缓存时间，Expires是一个绝对时间，Cache-Control 是一个相对时间，表示资源在多长时间内有效；一般会对js、css、图片等资源使用强缓存。\n\n     - 协商缓存是利用 HTTP 请求头中的 Last-Modified/If-Modified-Since 和 ETag/If-None-Match 两对字段来进行控制，用来表示资源的更新时间和唯一标识。\n\n       当浏览器再次请求一个资源时，如果本地缓存已经过期，它会携带这些字段向服务器发送请求，询问资源是否有更新。如果没有更新，则服务器会返回 304 状态码，告诉浏览器可以继续使用本地缓存。如果有更新，则服务器会返回 200 状态码和新的资源，并更新本地缓存。\n\n  3. AppCache\n\n     - 在html页面中指定manifest文件的路径，例如`<html manifest=\"example.appcache\">`\n\n     - 在manifest文件中列出需要缓存的资源，以及在离线时显示的页面，例如：\n\n       ```javascript\n       CACHE MANIFEST\n       # v1.0.0\n       \n       CACHE:\n       index.html\n       style.css\n       script.js\n       logo.png\n       \n       NETWORK:\n       *\n       \n       FALLBACK:\n       / offline.html\n       ```\n\n     - 在服务器端配置正确的MIME类型，例如`text/cache-manifest`\n\n     - 在浏览器中访问html页面，浏览器会自动下载并缓存manifest文件中指定的资源\n\n     - 在离线时，浏览器会从缓存中加载资源，并在无法访问的情况下显示fallback页面\n\n  4. Localstorge、Sessionstorage、Cookie、CacheStorage\n\n     用于本地存储，常用，不必过多解释。\n\n  5. 减少请求数\n\n     - 小图片合并雪碧图；\n     - 避免重复的资源请求。减少请求数\n\n  6. 减少文件大小，节省请求带宽\n\n     - 压缩CSS、JS、图片；\n     - 尽可能控制DOM节点数；\n     - 精简css、 JavaScript，移除注释、空格、重复css和脚本。\n     - 开启Gzip，Gzip的思想就是把文件先在服务器端进行压缩，且压缩率达到85%，然后再传输，传输完毕后浏览器会重新对压缩过的内容进行解压缩，并执行。。好处在于Gzip的支持已经很好，且爬虫可识别，压缩率达到66%-85%显著减少了文件传输的大小。另外，gzip对pdf文件的压缩效果不大，而且会浪费CPU。\n\n  7. 静态资源域名\n\n     域名的要求一般是独立短小，短小可以减少头部开销，域名越短请求头的URI就越短；独立是因为独立的域名不会共享主域的cookie，可以减少请求头大小，还有一个原因是浏览器对相同域名的并发连接数是有限制的，一般同域名为6-8个连接，当然域名不是越多越好，每个域名的第一次连接都要经理DNS查询，会耗费时间，尽量控制域名在2-4个间，需要注意的是，同一静态资源在不同页面散列到不同子域下，会导致无法利用http缓存。\n\n  8. http2（来源：baidu.com）\n\n     - 多路复用：多路复用很好地解决如何让重要资源尽快加载这个问题。同域名下或者不同域但是同时满足同一个 IP以及使用同一个证书的这两个条件中的所有通信都在**单个连接**上完成，此连接上同时打开任意数量的双向数据流（ HTTP 1.1 有连接数限制）。使用多域名加上相同的 IP 和证书部署 Web 服务有特殊的意义：让支持 HTTP/2 的终端只建立一个连接，用上 HTTP/2 协议带来的各种好处；而只支持 HTTP/1.1 的终端则会建立多个连接，达到同时更多并发请求的目的。（来源：baidu.com）\n     - HEAD压缩：HTTP/2 将请求和响应数据分割为更小的帧，并对它们采用二进制编码（ Binary Framing ）。在 HTTP/1 中，HTTP 请求和响应都是由「状态行、请求 / 响应头部、消息主体」三部分组成，状态行和头部却没有经过任何压缩，直接以纯文本传输。在 HTTP/2 中，每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装。\n     - 请求优先级：服务器可以根据流的优先级，控制资源分配(CPU、内存、带宽)，而在响应数据准备好之后，优先将最高优先级的帧发送给客户端。\n     - 服务器推送：启动Server Push，意味着服务端可以在发送页面HTML时主动推送其它资源，有自己独立的URL，可以被浏览器缓存；如果服务端推送的资源已经被浏览器缓存过，浏览器可以通过发送 RST_STREAM 帧来拒收。\n\n- ### 客户端篇\n\n  1. 使用外链CSS和JS，CSS放头，JS放尾，防止阻塞以减少对并发下载的影响，尽早刷新文档的输出。\n\n  2. html的代码优化，如：\n\n     - 避免空的图片src；\n     - 协议自适应，减少html文件大小，将https://和http://都替换成//。\n\n  3. css的代码优化，如：\n\n     - 建议使用类选择器，访问比较快；\n     - 不建议使用很长的base64；\n     - 避免CSS表达式；\n     - 避免使用Filters。\n\n  4. js的代码优化，如：\n\n     - 避免使用eval和width；\n     - 减少作用域链查找；\n     - 减少DOM访问，尽量缓存DOM；\n     - 充分利用事件委托；\n     - 减少Repaint（重绘）和Reflow（重排）最好通过批量更新元素减少重排次数，如设置类class统一更新样式，在添加多个li\n     - 元素将会触发多次页面重排的情况下使用 DOM fargment 在内存中创建完整的 DOM 节点，然后再一次性添加到 DOM 中。\n\n  5. 图片格式的选择：\n\n     - 颜色较为丰富的图片而且文件比较大的（40KB - 200KB）或者有内容的图片优先考虑 jpg；图标等颜色比较简单、文件体积不大、起修饰作用的图片，优先考虑使用 PNG8 格式；图像颜色丰富而且图片文件不太大的（40KB 以下）或有半透明效果的优先考虑 PNG24 格式。\n     - 条件允许的，使用新格式WEBP和BPG。\n     - 用SVG和ICONFONT代替简单的图标。\n\n  6. 合理分配资源加载时间，按需加载，包括CSS、JS文件以及图片、业务模块等。 根据我们网页最初加载需要的最小内容集推断其他内容延迟加载；无条件提前加载公共内容或根据用户行为推断提前加载某些内容，如根据搜索框输入的文字来判断加载的内容。加载机制如下：\n\n     - 预加载\n     - Dom Ready后加载\n     - onLoad后加载\n     - 滚动加载\n\n  7. 减少DNS 查询：DNS 查询一般需要几毫秒到几百毫秒，移动环境下会更慢。我们可以预先读取DNS，减少用户等待时间。\n\n     ![](prefetch.png)\n\n     \n\n   更多代码规范相关，请参考： [前端代码规范](http://standard.lijinglun.com/)\n","source":"_posts/2023-02-24-聊聊前端优化.md","raw":"---\ntitle: 聊聊前端优化\nsubtitle: 从速度性能、稳定性、响应式、兼容性、搜索SEO等方面聊聊前端相关的性能优化\ndate: 2023-02-24 15:43:35\ncover: 2018/04/27/登录/cover.jpg\ncategories: 性能优化\ntags:\n  - 性能优化\n  - Web开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\n随着互联网技术的发展，网页已经不再是简单的静态文档，而是变成了功能丰富、交互复杂、视觉精美的应用程序。然而，这些应用程序也带来了一个挑战：如何在保证功能和体验的同时，让网页快速加载并运行？这就是前端性能优化要解决的问题。\n\n前端性能优化是一门综合性很强的学科，它涉及到网络、浏览器、JavaScript、CSS、HTML、图片等多个方面。为了达到最佳效果，我们需要从多个角度出发，采用各种技巧和工具来分析、测试、监控和改进网页的性能。\n\n本文旨在提供一份全面而实用的前端性能优化指南。（本段文字来自chatGPT生成）\n\n![image](yahoo.jpeg)\n以上来自雅虎优化指南，也叫[雅虎军规](https://developer.yahoo.com/performance/rules.html)。\n\n- ### 服务端篇\n\n  1. Content Delivery Network（CDN）\n\n     cdn具有能提高网站的访问速度、节省带宽等优势，其工作原理是通过将源站的内容缓存到分布在不同地区和运营商的边缘节点上，当用户请求时，就近返回节点上缓存的内容。cdn还涉及DNS解析、负载均衡、内容分发、调度等技术模块。\n\n  2. 浏览器缓存\n\n     缓存的设置可以大大提高响应速度，减少http请求，节省带宽等优势，缓存包括强缓存、协商缓存等，可以添加Expires头，配置ETag等属性来选择缓存的方式。当浏览器请求一个资源时，它会检测本地缓存中是否有该资源，并且是否在有效期内，如果是，则直接从本地缓存中返回该资源。\n\n     - 强缓存是利用HTTP请求头中的Expires和Cache-Control 两个字段来进行控制，用来表示资源的缓存时间，Expires是一个绝对时间，Cache-Control 是一个相对时间，表示资源在多长时间内有效；一般会对js、css、图片等资源使用强缓存。\n\n     - 协商缓存是利用 HTTP 请求头中的 Last-Modified/If-Modified-Since 和 ETag/If-None-Match 两对字段来进行控制，用来表示资源的更新时间和唯一标识。\n\n       当浏览器再次请求一个资源时，如果本地缓存已经过期，它会携带这些字段向服务器发送请求，询问资源是否有更新。如果没有更新，则服务器会返回 304 状态码，告诉浏览器可以继续使用本地缓存。如果有更新，则服务器会返回 200 状态码和新的资源，并更新本地缓存。\n\n  3. AppCache\n\n     - 在html页面中指定manifest文件的路径，例如`<html manifest=\"example.appcache\">`\n\n     - 在manifest文件中列出需要缓存的资源，以及在离线时显示的页面，例如：\n\n       ```javascript\n       CACHE MANIFEST\n       # v1.0.0\n       \n       CACHE:\n       index.html\n       style.css\n       script.js\n       logo.png\n       \n       NETWORK:\n       *\n       \n       FALLBACK:\n       / offline.html\n       ```\n\n     - 在服务器端配置正确的MIME类型，例如`text/cache-manifest`\n\n     - 在浏览器中访问html页面，浏览器会自动下载并缓存manifest文件中指定的资源\n\n     - 在离线时，浏览器会从缓存中加载资源，并在无法访问的情况下显示fallback页面\n\n  4. Localstorge、Sessionstorage、Cookie、CacheStorage\n\n     用于本地存储，常用，不必过多解释。\n\n  5. 减少请求数\n\n     - 小图片合并雪碧图；\n     - 避免重复的资源请求。减少请求数\n\n  6. 减少文件大小，节省请求带宽\n\n     - 压缩CSS、JS、图片；\n     - 尽可能控制DOM节点数；\n     - 精简css、 JavaScript，移除注释、空格、重复css和脚本。\n     - 开启Gzip，Gzip的思想就是把文件先在服务器端进行压缩，且压缩率达到85%，然后再传输，传输完毕后浏览器会重新对压缩过的内容进行解压缩，并执行。。好处在于Gzip的支持已经很好，且爬虫可识别，压缩率达到66%-85%显著减少了文件传输的大小。另外，gzip对pdf文件的压缩效果不大，而且会浪费CPU。\n\n  7. 静态资源域名\n\n     域名的要求一般是独立短小，短小可以减少头部开销，域名越短请求头的URI就越短；独立是因为独立的域名不会共享主域的cookie，可以减少请求头大小，还有一个原因是浏览器对相同域名的并发连接数是有限制的，一般同域名为6-8个连接，当然域名不是越多越好，每个域名的第一次连接都要经理DNS查询，会耗费时间，尽量控制域名在2-4个间，需要注意的是，同一静态资源在不同页面散列到不同子域下，会导致无法利用http缓存。\n\n  8. http2（来源：baidu.com）\n\n     - 多路复用：多路复用很好地解决如何让重要资源尽快加载这个问题。同域名下或者不同域但是同时满足同一个 IP以及使用同一个证书的这两个条件中的所有通信都在**单个连接**上完成，此连接上同时打开任意数量的双向数据流（ HTTP 1.1 有连接数限制）。使用多域名加上相同的 IP 和证书部署 Web 服务有特殊的意义：让支持 HTTP/2 的终端只建立一个连接，用上 HTTP/2 协议带来的各种好处；而只支持 HTTP/1.1 的终端则会建立多个连接，达到同时更多并发请求的目的。（来源：baidu.com）\n     - HEAD压缩：HTTP/2 将请求和响应数据分割为更小的帧，并对它们采用二进制编码（ Binary Framing ）。在 HTTP/1 中，HTTP 请求和响应都是由「状态行、请求 / 响应头部、消息主体」三部分组成，状态行和头部却没有经过任何压缩，直接以纯文本传输。在 HTTP/2 中，每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装。\n     - 请求优先级：服务器可以根据流的优先级，控制资源分配(CPU、内存、带宽)，而在响应数据准备好之后，优先将最高优先级的帧发送给客户端。\n     - 服务器推送：启动Server Push，意味着服务端可以在发送页面HTML时主动推送其它资源，有自己独立的URL，可以被浏览器缓存；如果服务端推送的资源已经被浏览器缓存过，浏览器可以通过发送 RST_STREAM 帧来拒收。\n\n- ### 客户端篇\n\n  1. 使用外链CSS和JS，CSS放头，JS放尾，防止阻塞以减少对并发下载的影响，尽早刷新文档的输出。\n\n  2. html的代码优化，如：\n\n     - 避免空的图片src；\n     - 协议自适应，减少html文件大小，将https://和http://都替换成//。\n\n  3. css的代码优化，如：\n\n     - 建议使用类选择器，访问比较快；\n     - 不建议使用很长的base64；\n     - 避免CSS表达式；\n     - 避免使用Filters。\n\n  4. js的代码优化，如：\n\n     - 避免使用eval和width；\n     - 减少作用域链查找；\n     - 减少DOM访问，尽量缓存DOM；\n     - 充分利用事件委托；\n     - 减少Repaint（重绘）和Reflow（重排）最好通过批量更新元素减少重排次数，如设置类class统一更新样式，在添加多个li\n     - 元素将会触发多次页面重排的情况下使用 DOM fargment 在内存中创建完整的 DOM 节点，然后再一次性添加到 DOM 中。\n\n  5. 图片格式的选择：\n\n     - 颜色较为丰富的图片而且文件比较大的（40KB - 200KB）或者有内容的图片优先考虑 jpg；图标等颜色比较简单、文件体积不大、起修饰作用的图片，优先考虑使用 PNG8 格式；图像颜色丰富而且图片文件不太大的（40KB 以下）或有半透明效果的优先考虑 PNG24 格式。\n     - 条件允许的，使用新格式WEBP和BPG。\n     - 用SVG和ICONFONT代替简单的图标。\n\n  6. 合理分配资源加载时间，按需加载，包括CSS、JS文件以及图片、业务模块等。 根据我们网页最初加载需要的最小内容集推断其他内容延迟加载；无条件提前加载公共内容或根据用户行为推断提前加载某些内容，如根据搜索框输入的文字来判断加载的内容。加载机制如下：\n\n     - 预加载\n     - Dom Ready后加载\n     - onLoad后加载\n     - 滚动加载\n\n  7. 减少DNS 查询：DNS 查询一般需要几毫秒到几百毫秒，移动环境下会更慢。我们可以预先读取DNS，减少用户等待时间。\n\n     ![](prefetch.png)\n\n     \n\n   更多代码规范相关，请参考： [前端代码规范](http://standard.lijinglun.com/)\n","slug":"聊聊前端优化","published":1,"updated":"2023-03-06T08:47:06.937Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi8z000gqts9qodpf5j7","content":"<p>随着互联网技术的发展，网页已经不再是简单的静态文档，而是变成了功能丰富、交互复杂、视觉精美的应用程序。然而，这些应用程序也带来了一个挑战：如何在保证功能和体验的同时，让网页快速加载并运行？这就是前端性能优化要解决的问题。</p>\n<p>前端性能优化是一门综合性很强的学科，它涉及到网络、浏览器、JavaScript、CSS、HTML、图片等多个方面。为了达到最佳效果，我们需要从多个角度出发，采用各种技巧和工具来分析、测试、监控和改进网页的性能。</p>\n<p>本文旨在提供一份全面而实用的前端性能优化指南。（本段文字来自chatGPT生成）</p>\n<p><img src=\"yahoo.jpeg\" alt=\"image\"><br>以上来自雅虎优化指南，也叫<a href=\"https://developer.yahoo.com/performance/rules.html\" target=\"_blank\" rel=\"noopener\">雅虎军规</a>。</p>\n<ul>\n<li><h3 id=\"服务端篇\"><a href=\"#服务端篇\" class=\"headerlink\" title=\"服务端篇\"></a>服务端篇</h3><ol>\n<li><p>Content Delivery Network（CDN）</p>\n<p>cdn具有能提高网站的访问速度、节省带宽等优势，其工作原理是通过将源站的内容缓存到分布在不同地区和运营商的边缘节点上，当用户请求时，就近返回节点上缓存的内容。cdn还涉及DNS解析、负载均衡、内容分发、调度等技术模块。</p>\n</li>\n<li><p>浏览器缓存</p>\n<p>缓存的设置可以大大提高响应速度，减少http请求，节省带宽等优势，缓存包括强缓存、协商缓存等，可以添加Expires头，配置ETag等属性来选择缓存的方式。当浏览器请求一个资源时，它会检测本地缓存中是否有该资源，并且是否在有效期内，如果是，则直接从本地缓存中返回该资源。</p>\n<ul>\n<li><p>强缓存是利用HTTP请求头中的Expires和Cache-Control 两个字段来进行控制，用来表示资源的缓存时间，Expires是一个绝对时间，Cache-Control 是一个相对时间，表示资源在多长时间内有效；一般会对js、css、图片等资源使用强缓存。</p>\n</li>\n<li><p>协商缓存是利用 HTTP 请求头中的 Last-Modified/If-Modified-Since 和 ETag/If-None-Match 两对字段来进行控制，用来表示资源的更新时间和唯一标识。</p>\n<p>当浏览器再次请求一个资源时，如果本地缓存已经过期，它会携带这些字段向服务器发送请求，询问资源是否有更新。如果没有更新，则服务器会返回 304 状态码，告诉浏览器可以继续使用本地缓存。如果有更新，则服务器会返回 200 状态码和新的资源，并更新本地缓存。</p>\n</li>\n</ul>\n</li>\n<li><p>AppCache</p>\n<ul>\n<li><p>在html页面中指定manifest文件的路径，例如<code>&lt;html manifest=&quot;example.appcache&quot;&gt;</code></p>\n</li>\n<li><p>在manifest文件中列出需要缓存的资源，以及在离线时显示的页面，例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CACHE MANIFEST</span><br><span class=\"line\"># v1.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">CACHE:</span><br><span class=\"line\">index.html</span><br><span class=\"line\">style.css</span><br><span class=\"line\">script.js</span><br><span class=\"line\">logo.png</span><br><span class=\"line\"></span><br><span class=\"line\">NETWORK:</span><br><span class=\"line\">*</span><br><span class=\"line\"></span><br><span class=\"line\">FALLBACK:</span><br><span class=\"line\">/ offline.html</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在服务器端配置正确的MIME类型，例如<code>text/cache-manifest</code></p>\n</li>\n<li><p>在浏览器中访问html页面，浏览器会自动下载并缓存manifest文件中指定的资源</p>\n</li>\n<li><p>在离线时，浏览器会从缓存中加载资源，并在无法访问的情况下显示fallback页面</p>\n</li>\n</ul>\n</li>\n<li><p>Localstorge、Sessionstorage、Cookie、CacheStorage</p>\n<p>用于本地存储，常用，不必过多解释。</p>\n</li>\n<li><p>减少请求数</p>\n<ul>\n<li>小图片合并雪碧图；</li>\n<li>避免重复的资源请求。减少请求数</li>\n</ul>\n</li>\n<li><p>减少文件大小，节省请求带宽</p>\n<ul>\n<li>压缩CSS、JS、图片；</li>\n<li>尽可能控制DOM节点数；</li>\n<li>精简css、 JavaScript，移除注释、空格、重复css和脚本。</li>\n<li>开启Gzip，Gzip的思想就是把文件先在服务器端进行压缩，且压缩率达到85%，然后再传输，传输完毕后浏览器会重新对压缩过的内容进行解压缩，并执行。。好处在于Gzip的支持已经很好，且爬虫可识别，压缩率达到66%-85%显著减少了文件传输的大小。另外，gzip对pdf文件的压缩效果不大，而且会浪费CPU。</li>\n</ul>\n</li>\n<li><p>静态资源域名</p>\n<p>域名的要求一般是独立短小，短小可以减少头部开销，域名越短请求头的URI就越短；独立是因为独立的域名不会共享主域的cookie，可以减少请求头大小，还有一个原因是浏览器对相同域名的并发连接数是有限制的，一般同域名为6-8个连接，当然域名不是越多越好，每个域名的第一次连接都要经理DNS查询，会耗费时间，尽量控制域名在2-4个间，需要注意的是，同一静态资源在不同页面散列到不同子域下，会导致无法利用http缓存。</p>\n</li>\n<li><p>http2（来源：baidu.com）</p>\n<ul>\n<li>多路复用：多路复用很好地解决如何让重要资源尽快加载这个问题。同域名下或者不同域但是同时满足同一个 IP以及使用同一个证书的这两个条件中的所有通信都在<strong>单个连接</strong>上完成，此连接上同时打开任意数量的双向数据流（ HTTP 1.1 有连接数限制）。使用多域名加上相同的 IP 和证书部署 Web 服务有特殊的意义：让支持 HTTP/2 的终端只建立一个连接，用上 HTTP/2 协议带来的各种好处；而只支持 HTTP/1.1 的终端则会建立多个连接，达到同时更多并发请求的目的。（来源：baidu.com）</li>\n<li>HEAD压缩：HTTP/2 将请求和响应数据分割为更小的帧，并对它们采用二进制编码（ Binary Framing ）。在 HTTP/1 中，HTTP 请求和响应都是由「状态行、请求 / 响应头部、消息主体」三部分组成，状态行和头部却没有经过任何压缩，直接以纯文本传输。在 HTTP/2 中，每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装。</li>\n<li>请求优先级：服务器可以根据流的优先级，控制资源分配(CPU、内存、带宽)，而在响应数据准备好之后，优先将最高优先级的帧发送给客户端。</li>\n<li>服务器推送：启动Server Push，意味着服务端可以在发送页面HTML时主动推送其它资源，有自己独立的URL，可以被浏览器缓存；如果服务端推送的资源已经被浏览器缓存过，浏览器可以通过发送 RST_STREAM 帧来拒收。</li>\n</ul>\n</li>\n</ol>\n</li>\n<li><h3 id=\"客户端篇\"><a href=\"#客户端篇\" class=\"headerlink\" title=\"客户端篇\"></a>客户端篇</h3><ol>\n<li><p>使用外链CSS和JS，CSS放头，JS放尾，防止阻塞以减少对并发下载的影响，尽早刷新文档的输出。</p>\n</li>\n<li><p>html的代码优化，如：</p>\n<ul>\n<li>避免空的图片src；</li>\n<li>协议自适应，减少html文件大小，将https://和http://都替换成//。</li>\n</ul>\n</li>\n<li><p>css的代码优化，如：</p>\n<ul>\n<li>建议使用类选择器，访问比较快；</li>\n<li>不建议使用很长的base64；</li>\n<li>避免CSS表达式；</li>\n<li>避免使用Filters。</li>\n</ul>\n</li>\n<li><p>js的代码优化，如：</p>\n<ul>\n<li>避免使用eval和width；</li>\n<li>减少作用域链查找；</li>\n<li>减少DOM访问，尽量缓存DOM；</li>\n<li>充分利用事件委托；</li>\n<li>减少Repaint（重绘）和Reflow（重排）最好通过批量更新元素减少重排次数，如设置类class统一更新样式，在添加多个li</li>\n<li>元素将会触发多次页面重排的情况下使用 DOM fargment 在内存中创建完整的 DOM 节点，然后再一次性添加到 DOM 中。</li>\n</ul>\n</li>\n<li><p>图片格式的选择：</p>\n<ul>\n<li>颜色较为丰富的图片而且文件比较大的（40KB - 200KB）或者有内容的图片优先考虑 jpg；图标等颜色比较简单、文件体积不大、起修饰作用的图片，优先考虑使用 PNG8 格式；图像颜色丰富而且图片文件不太大的（40KB 以下）或有半透明效果的优先考虑 PNG24 格式。</li>\n<li>条件允许的，使用新格式WEBP和BPG。</li>\n<li>用SVG和ICONFONT代替简单的图标。</li>\n</ul>\n</li>\n<li><p>合理分配资源加载时间，按需加载，包括CSS、JS文件以及图片、业务模块等。 根据我们网页最初加载需要的最小内容集推断其他内容延迟加载；无条件提前加载公共内容或根据用户行为推断提前加载某些内容，如根据搜索框输入的文字来判断加载的内容。加载机制如下：</p>\n<ul>\n<li>预加载</li>\n<li>Dom Ready后加载</li>\n<li>onLoad后加载</li>\n<li>滚动加载</li>\n</ul>\n</li>\n<li><p>减少DNS 查询：DNS 查询一般需要几毫秒到几百毫秒，移动环境下会更慢。我们可以预先读取DNS，减少用户等待时间。</p>\n<p><img src=\"prefetch.png\" alt></p>\n</li>\n</ol>\n</li>\n</ul>\n<p>   更多代码规范相关，请参考： <a href=\"http://standard.lijinglun.com/\" target=\"_blank\" rel=\"noopener\">前端代码规范</a></p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<p>随着互联网技术的发展，网页已经不再是简单的静态文档，而是变成了功能丰富、交互复杂、视觉精美的应用程序。然而，这些应用程序也带来了一个挑战：如何在保证功能和体验的同时，让网页快速加载并运行？这就是前端性能优化要解决的问题。</p>\n<p>前端性能优化是一门综合性很强的学科，它涉及到网络、浏览器、JavaScript、CSS、HTML、图片等多个方面。为了达到最佳效果，我们需要从多个角度出发，采用各种技巧和工具来分析、测试、监控和改进网页的性能。</p>\n<p>本文旨在提供一份全面而实用的前端性能优化指南。（本段文字来自chatGPT生成）</p>\n<p><img src=\"yahoo.jpeg\" alt=\"image\"><br>以上来自雅虎优化指南，也叫<a href=\"https://developer.yahoo.com/performance/rules.html\" target=\"_blank\" rel=\"noopener\">雅虎军规</a>。</p>\n<ul>\n<li><h3 id=\"服务端篇\"><a href=\"#服务端篇\" class=\"headerlink\" title=\"服务端篇\"></a>服务端篇</h3><ol>\n<li><p>Content Delivery Network（CDN）</p>\n<p>cdn具有能提高网站的访问速度、节省带宽等优势，其工作原理是通过将源站的内容缓存到分布在不同地区和运营商的边缘节点上，当用户请求时，就近返回节点上缓存的内容。cdn还涉及DNS解析、负载均衡、内容分发、调度等技术模块。</p>\n</li>\n<li><p>浏览器缓存</p>\n<p>缓存的设置可以大大提高响应速度，减少http请求，节省带宽等优势，缓存包括强缓存、协商缓存等，可以添加Expires头，配置ETag等属性来选择缓存的方式。当浏览器请求一个资源时，它会检测本地缓存中是否有该资源，并且是否在有效期内，如果是，则直接从本地缓存中返回该资源。</p>\n<ul>\n<li><p>强缓存是利用HTTP请求头中的Expires和Cache-Control 两个字段来进行控制，用来表示资源的缓存时间，Expires是一个绝对时间，Cache-Control 是一个相对时间，表示资源在多长时间内有效；一般会对js、css、图片等资源使用强缓存。</p>\n</li>\n<li><p>协商缓存是利用 HTTP 请求头中的 Last-Modified/If-Modified-Since 和 ETag/If-None-Match 两对字段来进行控制，用来表示资源的更新时间和唯一标识。</p>\n<p>当浏览器再次请求一个资源时，如果本地缓存已经过期，它会携带这些字段向服务器发送请求，询问资源是否有更新。如果没有更新，则服务器会返回 304 状态码，告诉浏览器可以继续使用本地缓存。如果有更新，则服务器会返回 200 状态码和新的资源，并更新本地缓存。</p>\n</li>\n</ul>\n</li>\n<li><p>AppCache</p>\n<ul>\n<li><p>在html页面中指定manifest文件的路径，例如<code>&lt;html manifest=&quot;example.appcache&quot;&gt;</code></p>\n</li>\n<li><p>在manifest文件中列出需要缓存的资源，以及在离线时显示的页面，例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CACHE MANIFEST</span><br><span class=\"line\"># v1.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">CACHE:</span><br><span class=\"line\">index.html</span><br><span class=\"line\">style.css</span><br><span class=\"line\">script.js</span><br><span class=\"line\">logo.png</span><br><span class=\"line\"></span><br><span class=\"line\">NETWORK:</span><br><span class=\"line\">*</span><br><span class=\"line\"></span><br><span class=\"line\">FALLBACK:</span><br><span class=\"line\">/ offline.html</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在服务器端配置正确的MIME类型，例如<code>text/cache-manifest</code></p>\n</li>\n<li><p>在浏览器中访问html页面，浏览器会自动下载并缓存manifest文件中指定的资源</p>\n</li>\n<li><p>在离线时，浏览器会从缓存中加载资源，并在无法访问的情况下显示fallback页面</p>\n</li>\n</ul>\n</li>\n<li><p>Localstorge、Sessionstorage、Cookie、CacheStorage</p>\n<p>用于本地存储，常用，不必过多解释。</p>\n</li>\n<li><p>减少请求数</p>\n<ul>\n<li>小图片合并雪碧图；</li>\n<li>避免重复的资源请求。减少请求数</li>\n</ul>\n</li>\n<li><p>减少文件大小，节省请求带宽</p>\n<ul>\n<li>压缩CSS、JS、图片；</li>\n<li>尽可能控制DOM节点数；</li>\n<li>精简css、 JavaScript，移除注释、空格、重复css和脚本。</li>\n<li>开启Gzip，Gzip的思想就是把文件先在服务器端进行压缩，且压缩率达到85%，然后再传输，传输完毕后浏览器会重新对压缩过的内容进行解压缩，并执行。。好处在于Gzip的支持已经很好，且爬虫可识别，压缩率达到66%-85%显著减少了文件传输的大小。另外，gzip对pdf文件的压缩效果不大，而且会浪费CPU。</li>\n</ul>\n</li>\n<li><p>静态资源域名</p>\n<p>域名的要求一般是独立短小，短小可以减少头部开销，域名越短请求头的URI就越短；独立是因为独立的域名不会共享主域的cookie，可以减少请求头大小，还有一个原因是浏览器对相同域名的并发连接数是有限制的，一般同域名为6-8个连接，当然域名不是越多越好，每个域名的第一次连接都要经理DNS查询，会耗费时间，尽量控制域名在2-4个间，需要注意的是，同一静态资源在不同页面散列到不同子域下，会导致无法利用http缓存。</p>\n</li>\n<li><p>http2（来源：baidu.com）</p>\n<ul>\n<li>多路复用：多路复用很好地解决如何让重要资源尽快加载这个问题。同域名下或者不同域但是同时满足同一个 IP以及使用同一个证书的这两个条件中的所有通信都在<strong>单个连接</strong>上完成，此连接上同时打开任意数量的双向数据流（ HTTP 1.1 有连接数限制）。使用多域名加上相同的 IP 和证书部署 Web 服务有特殊的意义：让支持 HTTP/2 的终端只建立一个连接，用上 HTTP/2 协议带来的各种好处；而只支持 HTTP/1.1 的终端则会建立多个连接，达到同时更多并发请求的目的。（来源：baidu.com）</li>\n<li>HEAD压缩：HTTP/2 将请求和响应数据分割为更小的帧，并对它们采用二进制编码（ Binary Framing ）。在 HTTP/1 中，HTTP 请求和响应都是由「状态行、请求 / 响应头部、消息主体」三部分组成，状态行和头部却没有经过任何压缩，直接以纯文本传输。在 HTTP/2 中，每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装。</li>\n<li>请求优先级：服务器可以根据流的优先级，控制资源分配(CPU、内存、带宽)，而在响应数据准备好之后，优先将最高优先级的帧发送给客户端。</li>\n<li>服务器推送：启动Server Push，意味着服务端可以在发送页面HTML时主动推送其它资源，有自己独立的URL，可以被浏览器缓存；如果服务端推送的资源已经被浏览器缓存过，浏览器可以通过发送 RST_STREAM 帧来拒收。</li>\n</ul>\n</li>\n</ol>\n</li>\n<li><h3 id=\"客户端篇\"><a href=\"#客户端篇\" class=\"headerlink\" title=\"客户端篇\"></a>客户端篇</h3><ol>\n<li><p>使用外链CSS和JS，CSS放头，JS放尾，防止阻塞以减少对并发下载的影响，尽早刷新文档的输出。</p>\n</li>\n<li><p>html的代码优化，如：</p>\n<ul>\n<li>避免空的图片src；</li>\n<li>协议自适应，减少html文件大小，将https://和http://都替换成//。</li>\n</ul>\n</li>\n<li><p>css的代码优化，如：</p>\n<ul>\n<li>建议使用类选择器，访问比较快；</li>\n<li>不建议使用很长的base64；</li>\n<li>避免CSS表达式；</li>\n<li>避免使用Filters。</li>\n</ul>\n</li>\n<li><p>js的代码优化，如：</p>\n<ul>\n<li>避免使用eval和width；</li>\n<li>减少作用域链查找；</li>\n<li>减少DOM访问，尽量缓存DOM；</li>\n<li>充分利用事件委托；</li>\n<li>减少Repaint（重绘）和Reflow（重排）最好通过批量更新元素减少重排次数，如设置类class统一更新样式，在添加多个li</li>\n<li>元素将会触发多次页面重排的情况下使用 DOM fargment 在内存中创建完整的 DOM 节点，然后再一次性添加到 DOM 中。</li>\n</ul>\n</li>\n<li><p>图片格式的选择：</p>\n<ul>\n<li>颜色较为丰富的图片而且文件比较大的（40KB - 200KB）或者有内容的图片优先考虑 jpg；图标等颜色比较简单、文件体积不大、起修饰作用的图片，优先考虑使用 PNG8 格式；图像颜色丰富而且图片文件不太大的（40KB 以下）或有半透明效果的优先考虑 PNG24 格式。</li>\n<li>条件允许的，使用新格式WEBP和BPG。</li>\n<li>用SVG和ICONFONT代替简单的图标。</li>\n</ul>\n</li>\n<li><p>合理分配资源加载时间，按需加载，包括CSS、JS文件以及图片、业务模块等。 根据我们网页最初加载需要的最小内容集推断其他内容延迟加载；无条件提前加载公共内容或根据用户行为推断提前加载某些内容，如根据搜索框输入的文字来判断加载的内容。加载机制如下：</p>\n<ul>\n<li>预加载</li>\n<li>Dom Ready后加载</li>\n<li>onLoad后加载</li>\n<li>滚动加载</li>\n</ul>\n</li>\n<li><p>减少DNS 查询：DNS 查询一般需要几毫秒到几百毫秒，移动环境下会更慢。我们可以预先读取DNS，减少用户等待时间。</p>\n<p><img src=\"prefetch.png\" alt></p>\n</li>\n</ol>\n</li>\n</ul>\n<p>   更多代码规范相关，请参考： <a href=\"http://standard.lijinglun.com/\" target=\"_blank\" rel=\"noopener\">前端代码规范</a></p>\n"},{"title":"Hello World","subtitle":"个人HEXO博客搭建","cover":"2018/04/27/登录/cover.jpg","date":"2015-10-08T02:24:35.000Z","author":{"nick":"lijinglun","github_name":"lijinglun"},"_content":"title: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"title: Hello World\nsubtitle: \"个人HEXO博客搭建\"\ncover: 2018/04/27/登录/cover.jpg\ndate: 2015-10-08 10:24:35\ncategories: Web开发\ntags:\n  - Hexo\n  - Web开发\nauthor:\n    nick: lijinglun\n    github_name: lijinglun\n---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"updated":"2023-02-22T08:36:10.412Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clezczi91000jqts9ja6tgd1q","content":"<h2 id=\"title-Hello-World\"><a href=\"#title-Hello-World\" class=\"headerlink\" title=\"title: Hello World\"></a>title: Hello World</h2><p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{"menu":{"home":"/index.html","about":"about/","standard":"http://standard.lijinglun.com/"},"languages":{"zh-cn":{"name":"简体中文","disqus_lang":"zh"}},"cases":[{"name":"前端代码规范","desc":"凹凸实验室整理的前端开发规范，与最新前端技术同步修正。","link":"http://standard.lijinglun.com","preview":"http://standard.lijinglun.com","tags":["standard","frontend","markdown","前端规范","JS编码规范","CSS编码规范"]}],"cates":[{"text":"全部文章","value":"全部文章","url":"index.html"},{"text":"Web开发","value":"Web开发","url":"cates/Web开发/index.html"},{"text":"移动开发","value":"移动开发","url":"cates/移动开发/index.html"},{"text":"随笔","value":"随笔","url":"cates/随笔/index.html"},{"text":"游戏开发","value":"游戏","url":"cates/游戏开发/index.html"},{"text":"性能优化","value":"性能优化","url":"cates/性能优化/index.html"},{"text":"react开发","value":"react开发","url":"cates/react开发/index.html"}],"links":[{"name":"JDC京东设计中心","desc":"京东设计中心","link":"https://jdc.jd.com"},{"name":"百度FEX","desc":"百度Web前端研发部","link":"http://fex.baidu.com"},{"name":"淘宝FED","desc":"淘宝前端团队","link":"http://taobaofed.org"},{"name":"TGIdeas","desc":"腾讯互娱设计中心","link":"http://tgideas.qq.com"},{"name":"ISUX","desc":"腾讯SNG设计中心","link":"http://isux.tencent.com"},{"name":"CDC","desc":"腾讯用户研究与体验设计中心","link":"http://cdc.tencent.com"},{"name":"携程UED","desc":"携程设计委员会","link":"http://ued.ctrip.com"}]}},"excerpt":"","more":"<h2 id=\"title-Hello-World\"><a href=\"#title-Hello-World\" class=\"headerlink\" title=\"title: Hello World\"></a>title: Hello World</h2><p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"一个中年人的自白","subtitle":"都说三十而立，过了而立之年就应该有所成就，承担责任，能够有明确的人事目标和方向；我来讲讲我的而立之年","date":"2023-03-08T08:37:51.000Z","cover":"2018/04/27/登录/cover.jpg","author":{"nike":"lijinglun"},"_content":"都说三十而立，过了而立之年就应该有所成就，承担责任，能够有明确的人事目标和方向；我来讲讲我的而立之年，我的而立之年用两个字概括的话，就是焦虑。\n焦虑充斥在家庭，工作，生活之中，孩子的教育；\n我希望孩子能跟在我身边，但是又没能力给他这样的环境，现在读幼儿园没问题，读小学，初中怎么办？我的学历还不能够办理工作居住证，哎，想想就头疼；\n工作上，技术更新迭代，前端更是如此，前端的人数也越来越多，觉得自己确实没什么竞争力了，很难；年前又加入了一家不是很理想的公司，欠薪，被裁，离职，仲裁，找工作，很烦。\n","source":"_posts/2023-03-08-一个中年人的自白.md","raw":"---\ntitle: 一个中年人的自白\nsubtitle: 都说三十而立，过了而立之年就应该有所成就，承担责任，能够有明确的人事目标和方向；我来讲讲我的而立之年\ndate: 2023-03-08 16:37:51\ncover: 2018/04/27/登录/cover.jpg\ncategories: 随笔\ntags:\n  - 随笔\nauthor:\n    nike: lijinglun\n---\n都说三十而立，过了而立之年就应该有所成就，承担责任，能够有明确的人事目标和方向；我来讲讲我的而立之年，我的而立之年用两个字概括的话，就是焦虑。\n焦虑充斥在家庭，工作，生活之中，孩子的教育；\n我希望孩子能跟在我身边，但是又没能力给他这样的环境，现在读幼儿园没问题，读小学，初中怎么办？我的学历还不能够办理工作居住证，哎，想想就头疼；\n工作上，技术更新迭代，前端更是如此，前端的人数也越来越多，觉得自己确实没什么竞争力了，很难；年前又加入了一家不是很理想的公司，欠薪，被裁，离职，仲裁，找工作，很烦。\n","slug":"一个中年人的自白","published":1,"updated":"2023-03-08T09:05:06.691Z","_id":"clezfgcet001pqts94nhx14gq","comments":1,"layout":"post","photos":[],"link":""}],"PostAsset":[{"_id":"source/_posts/2018-04-27-登录/2.png","slug":"2.png","post":"clezczi8q0007qts9kju4uyue","modified":1,"renderable":0},{"_id":"source/_posts/2017-07-24-chrome_1/4.png","slug":"4.png","post":"clezczi8p0006qts98sqflfa6","modified":1,"renderable":0},{"_id":"source/_posts/2023-02-24-聊聊前端优化/yahoo.jpeg","slug":"yahoo.jpeg","post":"clezczi8z000gqts9qodpf5j7","modified":1,"renderable":0},{"_id":"source/_posts/2018-05-03-Phaser游戏开发2/phaser1.zip","post":"clezczi8y000cqts93r804pgo","slug":"phaser1.zip","modified":1,"renderable":1},{"_id":"source/_posts/2017-08-06-canvas压缩图片/cover.jpg","post":"clezczi8f0001qts97xb4ijt4","slug":"cover.jpg","modified":1,"renderable":1},{"_id":"source/_posts/2017-08-06-canvas压缩图片/header.jpeg","slug":"header.jpeg","post":"clezczi8f0001qts97xb4ijt4","modified":1,"renderable":0},{"_id":"source/_posts/2018-01-15-新年新展望/1.jpeg","slug":"1.jpeg","post":"clezczi8l0003qts9nnf6jk1l","modified":1,"renderable":0},{"_id":"source/_posts/2018-01-15-新年新展望/cover.jpg","post":"clezczi8l0003qts9nnf6jk1l","slug":"cover.jpg","modified":1,"renderable":1},{"_id":"source/_posts/2023-02-24-聊聊前端优化/prefetch.png","post":"clezczi8z000gqts9qodpf5j7","slug":"prefetch.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-04-27-登录/1.png","post":"clezczi8q0007qts9kju4uyue","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/2018-04-27-登录/cover.jpg","post":"clezczi8q0007qts9kju4uyue","slug":"cover.jpg","modified":1,"renderable":1},{"_id":"source/_posts/2017-07-24-chrome_1/1.gif","slug":"1.gif","post":"clezczi8p0006qts98sqflfa6","modified":1,"renderable":0},{"_id":"source/_posts/2017-07-24-chrome_1/1.png","post":"clezczi8p0006qts98sqflfa6","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-07-24-chrome_1/2.gif","slug":"2.gif","post":"clezczi8p0006qts98sqflfa6","modified":1,"renderable":0},{"_id":"source/_posts/2017-07-24-chrome_1/2.png","slug":"2.png","post":"clezczi8p0006qts98sqflfa6","modified":1,"renderable":0},{"_id":"source/_posts/2017-07-24-chrome_1/3.png","post":"clezczi8p0006qts98sqflfa6","slug":"3.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-07-24-chrome_1/5.png","post":"clezczi8p0006qts98sqflfa6","slug":"5.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-07-24-chrome_1/6.png","post":"clezczi8p0006qts98sqflfa6","slug":"6.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-07-24-chrome_1/cover.jpg","post":"clezczi8p0006qts98sqflfa6","slug":"cover.jpg","modified":1,"renderable":1}],"PostCategory":[{"post_id":"clezczi8q0007qts9kju4uyue","category_id":"clezczi8n0004qts930jrwlc2","_id":"clezczi8y000dqts9b7njnj30"},{"post_id":"clezczi8f0001qts97xb4ijt4","category_id":"clezczi8n0004qts930jrwlc2","_id":"clezczi90000hqts9wai51xa1"},{"post_id":"clezczi8l0003qts9nnf6jk1l","category_id":"clezczi8t0009qts9nwlr1bxu","_id":"clezczi92000lqts94ztlmbz7"},{"post_id":"clezczi8p0006qts98sqflfa6","category_id":"clezczi8z000eqts92sifw0o4","_id":"clezczi9a000oqts9ibk9b7wf"},{"post_id":"clezczi91000jqts9ja6tgd1q","category_id":"clezczi8n0004qts930jrwlc2","_id":"clezczi9b000sqts9tz4i8gv9"},{"post_id":"clezczi8s0008qts9rd9u5ovz","category_id":"clezczi94000mqts9pbw159pb","_id":"clezczi9b000uqts9omhptqo0"},{"post_id":"clezczi8u000bqts9rhs110t7","category_id":"clezczi9b000qqts97t3qvp7s","_id":"clezczi9c000yqts9fatkr6na"},{"post_id":"clezczi8y000cqts93r804pgo","category_id":"clezczi94000mqts9pbw159pb","_id":"clezczi9d0012qts900t1bmqq"},{"post_id":"clezczi8z000gqts9qodpf5j7","category_id":"clezczi9c000xqts9zh6q193w","_id":"clezczi9d0014qts9raeb992v"},{"post_id":"clezfgcet001pqts94nhx14gq","category_id":"clezczi8t0009qts9nwlr1bxu","_id":"clezfhqi6001rqts9srjmzdmy"}],"PostTag":[{"post_id":"clezczi8f0001qts97xb4ijt4","tag_id":"clezczi8o0005qts9w41fycac","_id":"clezczi90000iqts9ruf2z40b"},{"post_id":"clezczi8f0001qts97xb4ijt4","tag_id":"clezczi8t000aqts9jvm2edd6","_id":"clezczi92000kqts9bxzsdkcx"},{"post_id":"clezczi8l0003qts9nnf6jk1l","tag_id":"clezczi8z000fqts96iurrwsl","_id":"clezczi9b000rqts9sglregc1"},{"post_id":"clezczi8l0003qts9nnf6jk1l","tag_id":"clezczi8z000fqts96iurrwsl","_id":"clezczi9b000tqts9kt1bfa45"},{"post_id":"clezczi8p0006qts98sqflfa6","tag_id":"clezczi9a000pqts9sdcy61in","_id":"clezczi9d0010qts9g3vsb9u5"},{"post_id":"clezczi8p0006qts98sqflfa6","tag_id":"clezczi9b000vqts98ctj6qqy","_id":"clezczi9d0011qts9paqcnh7i"},{"post_id":"clezczi8q0007qts9kju4uyue","tag_id":"clezczi9c000zqts95kh5cyza","_id":"clezczi9e0016qts9pjhqs1ds"},{"post_id":"clezczi8q0007qts9kju4uyue","tag_id":"clezczi9d0013qts9ik361m2q","_id":"clezczi9e0017qts9u6etu1f8"},{"post_id":"clezczi8s0008qts9rd9u5ovz","tag_id":"clezczi9d0015qts9uyg9mj2q","_id":"clezczi9e001aqts92j7mpzic"},{"post_id":"clezczi8s0008qts9rd9u5ovz","tag_id":"clezczi9e0018qts96oxoz8lp","_id":"clezczi9e001bqts952fmt2v1"},{"post_id":"clezczi8u000bqts9rhs110t7","tag_id":"clezczi9e0019qts94fnf00nw","_id":"clezczi9f001dqts9jni7k5fa"},{"post_id":"clezczi8u000bqts9rhs110t7","tag_id":"clezczi8t000aqts9jvm2edd6","_id":"clezczi9f001eqts91r1ebhw7"},{"post_id":"clezczi8y000cqts93r804pgo","tag_id":"clezczi9d0015qts9uyg9mj2q","_id":"clezczi9f001hqts9wcvp0bn1"},{"post_id":"clezczi8y000cqts93r804pgo","tag_id":"clezczi9e0018qts96oxoz8lp","_id":"clezczi9f001iqts9dr3lg33b"},{"post_id":"clezczi8z000gqts9qodpf5j7","tag_id":"clezczi9f001gqts9saku28eo","_id":"clezczi9g001kqts9vszu4qyc"},{"post_id":"clezczi8z000gqts9qodpf5j7","tag_id":"clezczi8t000aqts9jvm2edd6","_id":"clezczi9g001lqts9aweb3vet"},{"post_id":"clezczi91000jqts9ja6tgd1q","tag_id":"clezczi9a000pqts9sdcy61in","_id":"clezczi9g001mqts9dca45azb"},{"post_id":"clezczi91000jqts9ja6tgd1q","tag_id":"clezczi8t000aqts9jvm2edd6","_id":"clezczi9g001nqts9a5uqip4c"},{"post_id":"clezfgcet001pqts94nhx14gq","tag_id":"clezczi8z000fqts96iurrwsl","_id":"clezfhjsf001qqts9n2j1ywd5"}],"Tag":[{"name":"canvas","_id":"clezczi8o0005qts9w41fycac"},{"name":"Web开发","_id":"clezczi8t000aqts9jvm2edd6"},{"name":"随笔","_id":"clezczi8z000fqts96iurrwsl"},{"name":"Hexo","_id":"clezczi9a000pqts9sdcy61in"},{"name":"移动开发","_id":"clezczi9b000vqts98ctj6qqy"},{"name":"iterm2配置","_id":"clezczi9c000zqts95kh5cyza"},{"name":"ssh","_id":"clezczi9d0013qts9ik361m2q"},{"name":"Phaser","_id":"clezczi9d0015qts9uyg9mj2q"},{"name":"游戏开发","_id":"clezczi9e0018qts96oxoz8lp"},{"name":"react开发","_id":"clezczi9e0019qts94fnf00nw"},{"name":"性能优化","_id":"clezczi9f001gqts9saku28eo"}]}}